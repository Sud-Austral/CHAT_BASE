<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrera Quest: La Misi√≥n de las 10 Llaves</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Orbitron:wght@700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b9bd1;
            --accent-color: #f39c12;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
            --warning-color: #f1c40f;
            --purple: #9b59b6;
            --teal: #1abc9c;
            --red: #e74c3c;
            --blue: #3498db;
            --green: #2ecc71;
            --yellow: #f1c40f;
            --orange: #e67e22;
            
            /* Variables para temas */
            --theme-bg: linear-gradient(135deg, #1a2a6c, #2c3e50, #4a6fa5);
            --theme-particles: rgba(255, 255, 255, 0.3);
            --theme-glow: rgba(74, 111, 165, 0.8);
        }

        /* Tema c√≥smico */
        .theme-cosmic {
            --theme-bg: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --theme-particles: rgba(255, 255, 255, 0.5);
            --theme-glow: rgba(138, 43, 226, 0.8);
        }

        /* Tema tecnol√≥gico */
        .theme-tech {
            --theme-bg: linear-gradient(135deg, #00416A, #00416A, #799F0C);
            --theme-particles: rgba(0, 255, 255, 0.4);
            --theme-glow: rgba(0, 255, 255, 0.8);
        }

        /* Tema naturaleza */
        .theme-nature {
            --theme-bg: linear-gradient(135deg, #134E5E, #71B280);
            --theme-particles: rgba(255, 255, 255, 0.4);
            --theme-glow: rgba(46, 204, 113, 0.8);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--theme-bg);
            color: var(--light-color);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            transition: background 1s ease;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            text-align: center;
            padding: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 15px var(--theme-glow);
            letter-spacing: 2px;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 10px var(--theme-glow), 0 0 20px rgba(74, 111, 165, 0.6);
            }
            to {
                text-shadow: 0 0 15px var(--theme-glow), 0 0 25px rgba(74, 111, 165, 0.8);
            }
        }

        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: rgba(255, 255, 255, 0.9);
            font-family: 'Comic Neue', cursive;
        }

        .avatar-container {
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid var(--accent-color);
        }

        .avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--accent-color);
        }

        .avatar-level {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background: var(--accent-color);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .xp-bar {
            width: 200px;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 0 auto 1rem;
            overflow: hidden;
        }

        .xp-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--warning-color));
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--accent-color);
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 2rem auto;
            padding: 2rem;
            max-width: 900px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.5s ease;
        }

        .game-container h2 {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1.8rem;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .key-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .key-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .key-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .key-card:hover::before {
            opacity: 1;
        }

        .key-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-color);
        }

        .key-card.completed {
            border-color: var(--success-color);
            background: linear-gradient(145deg, rgba(46, 204, 113, 0.2), rgba(46, 204, 113, 0.1));
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(46, 204, 113, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(46, 204, 113, 0);
            }
        }

        .key-card i {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 5px rgba(74, 111, 165, 0.5));
        }

        .key-card h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .key-card .score {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .key-card.completed .score {
            opacity: 1;
            transform: scale(1);
        }

        .challenge-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .challenge-content {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            border-radius: 15px;
            padding: 2rem;
            max-width: 700px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: modalAppear 0.5s ease;
        }

        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--light-color);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(231, 76, 60, 0.3);
            color: var(--danger-color);
        }

        .challenge-content h2 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .timer {
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 1rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .question-container {
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .option:hover::before {
            left: 100%;
        }

        .option:hover {
            background: rgba(74, 111, 165, 0.2);
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(74, 111, 165, 0.3);
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(74, 111, 165, 0.5);
        }

        .option.correct {
            background: rgba(46, 204, 113, 0.3);
            border-color: var(--success-color);
            animation: correctAnswer 0.5s ease;
        }

        @keyframes correctAnswer {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .option.incorrect {
            background: rgba(231, 76, 60, 0.3);
            border-color: var(--danger-color);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% {
                transform: translateX(0);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: translateX(-5px);
            }
            20%, 40%, 60%, 80% {
                transform: translateX(5px);
            }
        }

        .option input[type="radio"] {
            margin-right: 0.8rem;
            opacity: 0;
            position: absolute;
        }

        .option .radio-custom {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--light-color);
            margin-right: 0.8rem;
            display: inline-block;
            position: relative;
            transition: all 0.3s ease;
        }

        .option.selected .radio-custom {
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(74, 111, 165, 0.5);
        }

        .option.selected .radio-custom::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary-color);
        }

        .btn {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            font-family: 'Comic Neue', cursive;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-submit {
            background: linear-gradient(45deg, var(--success-color), #27ae60);
        }

        .btn-submit:hover {
            background: linear-gradient(45deg, #27ae60, var(--success-color));
        }

        .results-container {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 2rem auto;
            padding: 2rem;
            max-width: 900px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results-container h2 {
            color: var(--accent-color);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .career-list {
            list-style: none;
        }

        .career-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .career-item:hover {
            transform: translateX(10px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .career-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .career-score {
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .progress-container {
            margin: 2rem 0;
        }

        .progress-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 0 10px rgba(74, 111, 165, 0.5);
        }

        .social-container {
            margin-top: 2rem;
            text-align: center;
        }

        .social-container h3 {
            margin-bottom: 1rem;
            color: var(--accent-color);
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .share-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .share-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .share-btn.twitter {
            background: linear-gradient(45deg, #1DA1F2, #0d8bd9);
        }

        .share-btn.facebook {
            background: linear-gradient(45deg, #4267B2, #365899);
        }

        .share-btn.whatsapp {
            background: linear-gradient(45deg, #25D366, #128C7E);
        }

        .team-compatibility {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .team-compatibility h4 {
            margin-bottom: 1rem;
            color: var(--accent-color);
            font-size: 1.3rem;
            font-family: 'Comic Neue', cursive;
        }

        .team-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            font-size: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            transition: all 0.3s ease;
            font-family: 'Comic Neue', cursive;
        }

        .team-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.3);
        }

        .team-results {
            margin-top: 1rem;
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--success-color), #27ae60);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1001;
            max-width: 300px;
            font-family: 'Comic Neue', cursive;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background: linear-gradient(45deg, var(--danger-color), #c0392b);
        }

        .notification.warning {
            background: linear-gradient(45deg, var(--warning-color), #d35400);
        }

        .footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--light-color);
            margin-top: 2rem;
            opacity: 0.7;
            font-family: 'Comic Neue', cursive;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: var(--theme-particles);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            from {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            to {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }

        .key-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem;
            color: var(--accent-color);
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            animation: keyCollect 2s ease;
        }

        @keyframes keyCollect {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        .light-explosion {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 70%);
            z-index: 1999;
            pointer-events: none;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 500px;
                height: 500px;
                opacity: 0;
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            position: absolute;
            animation: confetti-fall 3s linear forwards;
            z-index: 2000;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .fun-element {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            animation: funPop 0.5s ease;
            font-family: 'Comic Neue', cursive;
        }

        @keyframes funPop {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .fun-element h3 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .fun-element p {
            font-size: 1rem;
            line-height: 1.4;
        }

        .fun-element .emoji {
            font-size: 2rem;
            margin: 0.5rem 0;
        }

        .next-question-btn {
            margin-top: 1rem;
            background: linear-gradient(45deg, var(--purple), #8e44ad);
        }

        .next-question-btn:hover {
            background: linear-gradient(45deg, #8e44ad, var(--purple));
        }

        /* Nuevos estilos para mejoras */
        .power-ups {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .power-up {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--accent-color);
            border-radius: 10px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .power-up:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .power-up.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .power-up.disabled:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: none;
        }

        .combo-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent-color);
            text-shadow: 0 0 20px var(--accent-color);
            z-index: 2001;
            opacity: 0;
            pointer-events: none;
            animation: comboAnimation 1s ease-out forwards;
        }

        @keyframes comboAnimation {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        .achievements {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
        }

        .achievement {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            width: 120px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .achievement.unlocked {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(243, 156, 18, 0.3);
        }

        .achievement i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--accent-color);
        }

        .achievement h4 {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            color: var(--light-color);
        }

        .achievement p {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .mini-game {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mini-game h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-family: 'Comic Neue', cursive;
        }

        .mini-game-options {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }

        .mini-game-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .mini-game-option:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--accent-color);
            transform: scale(1.05);
        }

        .theme-selector {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
        }

        .theme-option {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .theme-option.default {
            background: linear-gradient(135deg, #1a2a6c, #2c3e50, #4a6fa5);
        }

        .theme-option.cosmic {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        }

        .theme-option.tech {
            background: linear-gradient(135deg, #00416A, #00416A, #799F0C);
        }

        .theme-option.nature {
            background: linear-gradient(135deg, #134E5E, #71B280);
        }

        .theme-option.active {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(243, 156, 18, 0.5);
        }

        .narrator {
            text-align: center;
            font-style: italic;
            color: var(--accent-color);
            margin: 1rem 0;
            font-family: 'Comic Neue', cursive;
            min-height: 30px;
        }

        .ranking {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .ranking h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            text-align: center;
            font-family: 'Comic Neue', cursive;
        }

        .ranking-list {
            list-style: none;
        }

        .ranking-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ranking-item:last-child {
            border-bottom: none;
        }

        .ranking-position {
            font-weight: bold;
            color: var(--accent-color);
            margin-right: 1rem;
        }

        .ranking-name {
            flex-grow: 1;
        }

        .ranking-score {
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            border-radius: 20px;
            padding: 0.3rem 0.8rem;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .easter-egg {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.3;
            transition: opacity 0.3s ease;
            z-index: 100;
        }

        .easter-egg:hover {
            opacity: 1;
        }

        .secret-code {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
            display: none;
        }

        .secret-code h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-family: 'Comic Neue', cursive;
        }

        .secret-code-input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            padding: 0.8rem;
            color: var(--light-color);
            font-size: 1rem;
            width: 100%;
            margin-bottom: 1rem;
            font-family: 'Comic Neue', cursive;
        }

        .secret-code-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.3);
        }

        .alternate-ending {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            display: none;
        }

        .alternate-ending h2 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-family: 'Comic Neue', cursive;
        }

        .alternate-ending p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .key-container {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .challenge-content {
                padding: 1.5rem;
            }
            
            .achievements {
                gap: 0.5rem;
            }
            
            .achievement {
                width: 100px;
                padding: 0.8rem;
            }
            
            .achievement i {
                font-size: 1.5rem;
            }
            
            .achievement h4 {
                font-size: 0.8rem;
            }
            
            .achievement p {
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>

    <header>
        <div class="container">
            <h1>Carrera Quest: La Misi√≥n de las 10 Llaves</h1>
            <p>¬°Descubre tu carrera ideal recolectando llaves m√°gicas! üöÄ</p>
            
            <div class="avatar-container">
                <div class="avatar" id="player-avatar">
                    <i class="fas fa-user-astronaut"></i>
                    <div class="avatar-level" id="avatar-level">1</div>
                </div>
            </div>
            
            <div class="xp-bar">
                <div class="xp-progress" id="xp-progress"></div>
            </div>
            
            <div class="theme-selector">
                <div class="theme-option default active" data-theme="default" title="Tema por defecto"></div>
                <div class="theme-option cosmic" data-theme="cosmic" title="Tema c√≥smico"></div>
                <div class="theme-option tech" data-theme="tech" title="Tema tecnol√≥gico"></div>
                <div class="theme-option nature" data-theme="nature" title="Tema naturaleza"></div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="game-container" id="game-container">
            <h2>Recolecta las 10 Llaves Dimensionales</h2>
            <p>¬°Selecciona cada llave para responder 2 preguntas y obtener tu puntuaci√≥n!</p>
            
            <div class="power-ups">
                <div class="power-up" id="hint-power-up" title="Elimina una opci√≥n incorrecta">
                    <i class="fas fa-lightbulb"></i>
                    <span>Pista</span>
                    <span class="power-up-count">3</span>
                </div>
                <div class="power-up" id="time-power-up" title="A√±ade 30 segundos">
                    <i class="fas fa-clock"></i>
                    <span>Tiempo</span>
                    <span class="power-up-count">2</span>
                </div>
                <div class="power-up" id="skip-power-up" title="Omite una pregunta">
                    <i class="fas fa-forward"></i>
                    <span>Omitir</span>
                    <span class="power-up-count">1</span>
                </div>
            </div>
            
            <div class="narrator" id="narrator">¬°Bienvenido, viajero dimensional! Elige tu primera llave.</div>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
                <p id="progress-text">Progreso: 0/10 llaves recolectadas</p>
            </div>
            
            <div class="key-container" id="key-container">
                <!-- Las llaves se generar√°n din√°micamente con JavaScript -->
            </div>
            
            <div class="achievements">
                <div class="achievement" id="achievement-first-key" title="Recolecta tu primera llave">
                    <i class="fas fa-key"></i>
                    <h4>Primer Paso</h4>
                    <p>Recolecta tu primera llave</p>
                </div>
                <div class="achievement" id="achievement-half-keys" title="Recolecta 5 llaves">
                    <i class="fas fa-medal"></i>
                    <h4>A Mitad de Camino</h4>
                    <p>Recolecta 5 llaves</p>
                </div>
                <div class="achievement" id="achievement-all-keys" title="Recolecta todas las llaves">
                    <i class="fas fa-trophy"></i>
                    <h4>Maestro de Llaves</h4>
                    <p>Recolecta todas las llaves</p>
                </div>
                <div class="achievement" id="achievement-perfect" title="Obt√©n 10 puntos en una llave">
                    <i class="fas fa-star"></i>
                    <h4>Perfecci√≥n</h4>
                    <p>Obt√©n 10 puntos en una llave</p>
                </div>
                <div class="achievement" id="achievement-combo" title="Consigue un combo de 3 respuestas correctas">
                    <i class="fas fa-fire"></i>
                    <h4>En Llamas</h4>
                    <p>Consigue un combo de 3 respuestas correctas</p>
                </div>
                <div class="achievement" id="achievement-speed" title="Responde en menos de 30 segundos">
                    <i class="fas fa-bolt"></i>
                    <h4>Rel√°mpago</h4>
                    <p>Responde en menos de 30 segundos</p>
                </div>
            </div>
            
            <div class="ranking">
                <h3>Ranking de Jugadores</h3>
                <ul class="ranking-list" id="ranking-list">
                    <li class="ranking-item">
                        <span class="ranking-position">1</span>
                        <span class="ranking-name">ExplorerPro</span>
                        <span class="ranking-score">98%</span>
                    </li>
                    <li class="ranking-item">
                        <span class="ranking-position">2</span>
                        <span class="ranking-name">CareerMaster</span>
                        <span class="ranking-score">95%</span>
                    </li>
                    <li class="ranking-item">
                        <span class="ranking-position">3</span>
                        <span class="ranking-name">KeyHunter</span>
                        <span class="ranking-score">92%</span>
                    </li>
                    <li class="ranking-item">
                        <span class="ranking-position">4</span>
                        <span class="ranking-name">DimensionTraveler</span>
                        <span class="ranking-score">89%</span>
                    </li>
                    <li class="ranking-item">
                        <span class="ranking-position">5</span>
                        <span class="ranking-name">QuestSeeker</span>
                        <span class="ranking-score">85%</span>
                    </li>
                </ul>
            </div>
            
            <div class="text-center" id="complete-game-btn" style="display: none;">
                <button class="btn btn-submit" id="show-results">¬°Ver mis carreras compatibles!</button>
            </div>
        </div>

        <div class="results-container" id="results-container">
            <h2>Tu Cofre del Tesoro: Las 5 Carreras que Mejor Usan Tus Llaves</h2>
            <ul class="career-list" id="career-list">
                <!-- Las carreras se generar√°n din√°micamente con JavaScript -->
            </ul>
            
            <div class="alternate-ending" id="alternate-ending">
                <h2>¬°Felicidades, Maestro Dimensional!</h2>
                <p>Has desbloqueado el final secreto al recolectar todas las llaves con una puntuaci√≥n perfecta.</p>
                <p>Tu dominio sobre todas las dimensiones te convierte en un verdadero explorador de carreras.</p>
                <p>El universo de las profesiones no tiene secretos para ti.</p>
            </div>
            
            <div class="social-container">
                <h3>Comparte tus resultados</h3>
                <div class="share-buttons">
                    <button class="share-btn twitter" id="share-twitter"><i class="fab fa-twitter"></i></button>
                    <button class="share-btn facebook" id="share-facebook"><i class="fab fa-facebook-f"></i></button>
                    <button class="share-btn whatsapp" id="share-whatsapp"><i class="fab fa-whatsapp"></i></button>
                </div>
                
                <div class="team-compatibility">
                    <h4>Compara tus resultados con tus amigos</h4>
                    <p>Ingresa el c√≥digo de resultado de tu amigo para ver vuestra compatibilidad en equipo</p>
                    <input type="text" class="team-input" id="friend-code" placeholder="C√≥digo de resultado de tu amigo">
                    <button class="btn" id="compare-results">Comparar resultados</button>
                    
                    <div class="team-results" id="team-results">
                        <!-- Los resultados de comparaci√≥n se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button class="btn" id="restart-game">Jugar de nuevo</button>
            </div>
        </div>
    </main>

    <div class="challenge-modal" id="challenge-modal">
        <div class="challenge-content">
            <span class="close-btn" id="close-modal">&times;</span>
            <h2 id="challenge-title">Desaf√≠o</h2>
            <div class="timer" id="timer">Tiempo restante: 02:00</div>
            <p>¬°Responde estas 2 preguntas para obtener tu llave dimensional! üß†</p>
            
            <div id="questions-container">
                <!-- Las preguntas se generar√°n din√°micamente -->
            </div>
            
            <button class="btn btn-submit" id="submit-challenge">Enviar respuestas</button>
        </div>
    </div>

    <div class="notification" id="notification">
        <!-- Las notificaciones se mostrar√°n aqu√≠ -->
    </div>

    <div class="easter-egg" id="easter-egg">
        <i class="fas fa-ghost"></i>
    </div>

    <div class="secret-code" id="secret-code">
        <h3>¬°Has encontrado un c√≥digo secreto!</h3>
        <p>Ingresa el c√≥digo para desbloquear contenido especial:</p>
        <input type="text" class="secret-code-input" id="secret-code-input" placeholder="C√≥digo secreto">
        <button class="btn" id="unlock-secret">Desbloquear</button>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 Carrera Quest - Todos los derechos reservados</p>
        </div>
    </footer>

    <script>
        // Matriz de profesiones
        const professionsMatrix = {
            "Agronom√≠a": [8, 3, 6, 6, 4, 5, 7, 7, 4, 6],
            "Arqueolog√≠a": [7, 4, 5, 5, 3, 5, 7, 7, 5, 7],
            "Astronom√≠a": [10, 3, 8, 4, 10, 4, 9, 9, 3, 6],
            "Bioingenier√≠a": [9, 4, 9, 6, 7, 6, 9, 8, 4, 7],
            "Biolog√≠a": [8, 4, 6, 6, 7, 4, 8, 8, 3, 7],
            "Bioqu√≠mica": [9, 3, 7, 6, 7, 4, 8, 9, 2, 6],
            "Estad√≠stica": [9, 3, 7, 6, 9, 4, 8, 9, 2, 6],
            "F√≠sica": [10, 3, 7, 3, 9, 4, 9, 9, 4, 6],
            "Geof√≠sica": [9, 3, 7, 5, 5, 5, 8, 8, 2, 6],
            "Ingenier√≠a Ac√∫stica": [8, 3, 7, 6, 6, 5, 7, 8, 5, 5],
            "Ingenier√≠a en Acuicultura": [7, 4, 6, 6, 3, 5, 7, 7, 3, 7],
            "Ingenier√≠a en Alimentos": [8, 5, 7, 6, 5, 5, 8, 9, 3, 7],
            "Ingenier√≠a en Bioinform√°tica": [9, 3, 9, 6, 9, 4, 9, 9, 2, 6],
            "Ingenier√≠a en Biomasa": [8, 3, 8, 6, 5, 5, 8, 8, 3, 7],
            "Ingenier√≠a en Biom√©dica": [9, 5, 9, 6, 7, 6, 9, 8, 5, 8],
            "Ingenier√≠a en Biorremediaci√≥n": [8, 4, 8, 6, 5, 5, 8, 8, 3, 9],
            "Ingenier√≠a en Cer√°mica": [7, 3, 6, 6, 4, 5, 7, 8, 5, 5],
            "Ingenier√≠a en Ciencia de los Materiales": [9, 3, 8, 6, 7, 5, 8, 8, 3, 6],
            "Ingenier√≠a en Conservaci√≥n de la Biodiversidad": [8, 5, 7, 6, 3, 6, 8, 7, 3, 9],
            "Ingenier√≠a en Energ√≠a E√≥lica": [8, 4, 8, 5, 5, 6, 8, 7, 3, 7],
            "Ingenier√≠a en Energ√≠a Solar": [8, 4, 8, 5, 5, 6, 8, 7, 3, 7],
            "Ingenier√≠a en Energ√≠as No Convencionales": [8, 4, 9, 6, 6, 6, 9, 7, 4, 7],
            "Ingenier√≠a en Explotaci√≥n de Minas": [8, 3, 6, 8, 3, 7, 7, 8, 2, 6],
            "Ingenier√≠a en Gen√≥mica": [9, 3, 9, 6, 7, 5, 9, 8, 2, 7],
            "Ingenier√≠a en Geotermia": [8, 3, 8, 7, 5, 6, 8, 7, 2, 7],
            "Ingenier√≠a en Gesti√≥n de Desastres": [8, 6, 7, 8, 4, 8, 8, 8, 3, 9],
            "Ingenier√≠a en Higiene y Seguridad Ocupacional": [8, 6, 6, 7, 3, 7, 7, 8, 2, 8],
            "Ingenier√≠a en Materiales": [9, 3, 8, 6, 7, 5, 8, 8, 3, 6],
            "Ingenier√≠a en Medio Ambiente": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier√≠a en Metalurgia": [8, 3, 6, 5, 4, 5, 7, 9, 2, 5],
            "Ingenier√≠a en Metalurgia Extractiva": [8, 3, 6, 7, 4, 5, 7, 9, 2, 5],
            "Ingenier√≠a en Minerales": [8, 3, 6, 7, 4, 5, 7, 9, 2, 5],
            "Ingenier√≠a en Nanotecnolog√≠a": [10, 3, 9, 6, 7, 5, 9, 8, 3, 6],
            "Ingenier√≠a en Petr√≥leo y Gas": [8, 3, 6, 8, 4, 7, 7, 8, 2, 4],
            "Ingenier√≠a en Pl√°sticos": [8, 3, 7, 6, 5, 5, 7, 8, 3, 5],
            "Ingenier√≠a en Pol√≠meros": [8, 3, 7, 6, 5, 5, 7, 9, 3, 6],
            "Ingenier√≠a en Procesos Mineros": [8, 3, 6, 6, 4, 6, 7, 8, 2, 6],
            "Ingenier√≠a en Procesos Qu√≠micos": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier√≠a en Protecci√≥n Civil": [6, 6, 6, 7, 4, 8, 8, 8, 3, 9],
            "Ingenier√≠a en Recursos H√≠dricos": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier√≠a en Recursos Naturales": [8, 5, 7, 6, 3, 6, 8, 7, 3, 8],
            "Ingenier√≠a en Seguridad Industrial": [8, 6, 6, 7, 3, 7, 7, 8, 2, 8],
            "Ingenier√≠a en Seguridad Minera": [8, 6, 6, 7, 3, 7, 7, 9, 2, 8],
            "Ingenier√≠a en Tejidos": [8, 4, 6, 6, 5, 5, 7, 8, 5, 5],
            "Ingenier√≠a Forestal": [8, 4, 6, 6, 3, 6, 7, 7, 3, 8],
            "Ingenier√≠a Naval": [8, 4, 7, 6, 4, 6, 7, 9, 3, 5],
            "Matem√°ticas": [10, 2, 7, 4, 9, 4, 8, 10, 2, 4],
            "Meteorolog√≠a": [8, 4, 7, 5, 6, 5, 8, 8, 2, 7],
            "Oceanograf√≠a": [8, 4, 7, 5, 4, 5, 8, 8, 3, 7],
            "Qu√≠mica": [9, 3, 7, 6, 7, 4, 8, 8, 2, 6],
            "Administraci√≥n P√∫blica": [7, 7, 6, 5, 6, 7, 7, 6, 3, 8],
            "An√°lisis de Datos Avanzado (Big Data)": [9, 3, 8, 6, 9, 4, 9, 8, 3, 6],
            "Antropolog√≠a": [7, 7, 6, 5, 5, 5, 7, 7, 4, 8],
            "Arquitectura": [8, 6, 6, 6, 5, 6, 7, 7, 9, 6],
            "Contador Auditor": [8, 4, 6, 3, 7, 5, 7, 10, 2, 6],
            "Data Science": [9, 3, 9, 6, 9, 5, 9, 8, 3, 6],
            "Data Science y Machine Learning": [9, 3, 10, 6, 9, 5, 9, 8, 3, 6],
            "Derecho": [7, 7, 5, 4, 6, 7, 7, 8, 3, 9],
            "Dise√±o": [5, 5, 6, 5, 5, 5, 7, 7, 9, 6],
            "Econom√≠a": [9, 5, 7, 6, 9, 6, 8, 7, 3, 6],
            "Educaci√≥n F√≠sica": [6, 7, 5, 5, 1, 6, 6, 6, 4, 8],
            "Educaci√≥n Parvularia": [5, 9, 5, 4, 3, 6, 6, 6, 6, 9],
            "Enfermer√≠a": [7, 9, 6, 6, 2, 6, 7, 8, 2, 10],
            "Fonoaudiolog√≠a": [6, 9, 5, 6, 3, 6, 6, 8, 3, 9],
            "Geolog√≠a": [8, 4, 7, 6, 4, 6, 8, 7, 2, 6],
            "Ingenier√≠a Aeron√°utica": [9, 4, 7, 6, 6, 6, 8, 8, 3, 6],
            "Ingenier√≠a Ambiental": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier√≠a Civil El√©ctrica": [9, 4, 8, 6, 7, 6, 8, 9, 2, 6],
            "Ingenier√≠a Civil en Computaci√≥n": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier√≠a Civil en Computaci√≥n e Inform√°tica": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier√≠a Civil en Construcci√≥n": [8, 4, 6, 6, 4, 6, 7, 8, 3, 6],
            "Ingenier√≠a Civil en Energ√≠a": [8, 4, 8, 5, 6, 6, 8, 7, 3, 7],
            "Ingenier√≠a Civil en Geograf√≠a": [8, 5, 6, 6, 4, 6, 7, 8, 3, 7],
            "Ingenier√≠a Civil en Geomensura y Cartograf√≠a": [8, 4, 6, 6, 5, 6, 7, 9, 2, 6],
            "Ingenier√≠a Civil en Hidr√°ulica": [8, 4, 7, 6, 4, 6, 8, 7, 3, 6],
            "Ingenier√≠a Civil en Inform√°tica": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier√≠a Civil en Matem√°ticas": [10, 2, 7, 4, 9, 4, 8, 10, 2, 4],
            "Ingenier√≠a Civil en Minas": [8, 4, 6, 8, 3, 7, 7, 8, 2, 6],
            "Ingenier√≠a Civil en Obras Civiles": [8, 4, 6, 6, 4, 6, 7, 8, 3, 6],
            "Ingenier√≠a Civil en Qu√≠mica": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier√≠a Civil en Telecomunicaciones": [9, 4, 8, 6, 6, 6, 8, 9, 3, 6],
            "Ingenier√≠a Civil Industrial": [8, 6, 6, 6, 6, 7, 8, 8, 3, 6],
            "Ingenier√≠a Civil Mec√°nica": [9, 4, 6, 6, 6, 6, 8, 9, 3, 5],
            "Ingenier√≠a Civil Metal√∫rgica": [8, 3, 6, 5, 4, 6, 7, 9, 2, 5],
            "Ingenier√≠a Civil Qu√≠mica": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier√≠a Comercial": [8, 6, 7, 6, 7, 7, 8, 8, 3, 7],
            "Kinesiolog√≠a": [6, 9, 6, 6, 2, 5, 7, 7, 4, 9],
            "Licenciatura en Antropolog√≠a Digital": [6, 7, 8, 5, 6, 6, 8, 7, 6, 8],
            "Licenciatura en Arqueolog√≠a": [7, 4, 5, 5, 3, 5, 7, 7, 5, 7],
            "Licenciatura en Arqueolog√≠a Digital": [8, 5, 7, 5, 6, 5, 8, 7, 6, 8],
            "Licenciatura en Artes Esc√©nicas": [5, 7, 5, 5, 4, 5, 6, 6, 10, 6],
            "Licenciatura en Artes Pl√°sticas": [6, 5, 5, 5, 4, 5, 6, 6, 10, 5],
            "Licenciatura en Astronom√≠a": [10, 3, 8, 6, 10, 4, 9, 9, 3, 6],
            "Licenciatura en Biolog√≠a": [8, 4, 6, 6, 7, 4, 8, 8, 3, 7],
            "Licenciatura en Estudios Internacionales": [7, 8, 7, 5, 6, 6, 7, 6, 4, 8],
            "Licenciatura en Filosof√≠a": [5, 5, 5, 4, 10, 5, 7, 7, 5, 8],
            "Licenciatura en F√≠sica": [10, 3, 7, 3, 9, 4, 9, 9, 4, 6],
            "Licenciatura en Geolog√≠a": [8, 4, 7, 6, 4, 6, 8, 7, 2, 6],
            "Licenciatura en Historia": [7, 6, 5, 4, 9, 4, 7, 6, 4, 7],
            "Licenciatura en Historia Digital": [8, 6, 7, 5, 6, 6, 8, 6, 5, 7],
            "Licenciatura en Letras": [7, 6, 5, 4, 7, 4, 7, 6, 7, 6],
            "Licenciatura en Ling√º√≠stica": [8, 5, 5, 4, 6, 4, 7, 7, 4, 7],
            "Licenciatura en Matem√°ticas": [10, 2, 7, 4, 9, 3, 8, 10, 2, 4],
            "Licenciatura en M√∫sica": [6, 6, 5, 5, 5, 4, 6, 6, 10, 6],
            "Licenciatura en Qu√≠mica": [9, 3, 7, 6, 7, 5, 8, 8, 2, 6],
            "Licenciatura en Sociolog√≠a Computacional": [8, 7, 8, 5, 9, 6, 8, 7, 5, 9],
            "Medicina": [9, 9, 7, 6, 4, 6, 8, 9, 5, 10],
            "Nutrici√≥n y Diet√©tica": [7, 8, 6, 6, 3, 5, 7, 8, 3, 9],
            "Obstetricia y Puericultura": [7, 9, 6, 6, 2, 5, 6, 8, 3, 10],
            "Odontolog√≠a": [8, 7, 6, 6, 4, 5, 7, 10, 5, 9],
            "Pedagog√≠a en Artes Visuales": [6, 7, 5, 5, 5, 6, 6, 6, 9, 8],
            "Pedagog√≠a en Ciencias Naturales": [7, 7, 6, 4, 5, 5, 7, 7, 4, 9],
            "Pedagog√≠a en Cine": [5, 6, 7, 5, 5, 5, 7, 6, 8, 7],
            "Pedagog√≠a en Danza": [5, 7, 6, 5, 4, 5, 6, 6, 10, 8],
            "Pedagog√≠a en Educaci√≥n B√°sica": [5, 8, 6, 4, 4, 6, 7, 7, 5, 9],
            "Pedagog√≠a en Educaci√≥n Diferencial": [6, 9, 6, 4, 6, 6, 6, 7, 6, 10],
            "Pedagog√≠a en Educaci√≥n F√≠sica Digital": [7, 8, 7, 5, 4, 6, 8, 6, 6, 8],
            "Pedagog√≠a en Educaci√≥n Musical": [6, 7, 6, 5, 5, 5, 7, 7, 9, 8],
            "Pedagog√≠a en Educaci√≥n T√©cnico Profesional": [7, 8, 6, 5, 4, 7, 7, 7, 5, 8],
            "Pedagog√≠a en Filosof√≠a": [5, 7, 5, 4, 6, 5, 7, 7, 5, 8],
            "Pedagog√≠a en Historia y Ciencias Sociales": [7, 7, 6, 4, 6, 5, 7, 6, 5, 9],
            "Pedagog√≠a en Ingl√©s": [7, 7, 6, 4, 6, 5, 7, 6, 5, 8],
            "Pedagog√≠a en Lengua Castellana y Literatura": [7, 7, 6, 4, 9, 5, 7, 6, 6, 8],
            "Pedagog√≠a en Matem√°ticas Computacionales": [8, 6, 7, 3, 7, 6, 8, 7, 4, 8],
            "Pedagog√≠a en Matem√°ticas y Computaci√≥n": [8, 6, 7, 3, 7, 6, 8, 7, 4, 8],
            "Pedagog√≠a en Religi√≥n": [5, 8, 6, 4, 8, 5, 6, 6, 4, 9],
            "Pedagog√≠a en Teatro": [5, 7, 5, 5, 4, 5, 6, 6, 10, 8],
            "Periodismo": [7, 8, 6, 5, 6, 6, 7, 7, 6, 8],
            "Psicolog√≠a": [7, 9, 6, 4, 6, 6, 7, 8, 4, 10],
            "Qu√≠mica y Farmacia": [9, 6, 7, 6, 6, 5, 8, 10, 2, 8],
            "Sociolog√≠a": [6, 8, 6, 5, 7, 6, 7, 6, 4, 9],
            "Terapia Ocupacional": [6, 9, 6, 6, 3, 5, 6, 8, 5, 9],
            "Trabajo Social": [6, 9, 6, 4, 6, 6, 7, 7, 4, 10],
            "Veterinaria": [8, 7, 6, 6, 3, 5, 7, 8, 3, 8]
        };

        // Banco de preguntas para cada dimensi√≥n
        const questionsBank = [
            // Dimensi√≥n 0: Aptitud T√©cnica y Anal√≠tica
            [
                {
                    question: "¬øCu√°l es el resultado de 15¬≤ + 23 √ó 4 - 18 √∑ 3?",
                    options: ["311", "321", "301", "291"],
                    correctAnswer: 0
                },
                {
                    question: "Si un algoritmo tiene una complejidad O(n¬≤), ¬øqu√© significa esto?",
                    options: [
                        "El tiempo de ejecuci√≥n es constante",
                        "El tiempo de ejecuci√≥n crece linealmente con el tama√±o de entrada",
                        "El tiempo de ejecuci√≥n crece cuadr√°ticamente con el tama√±o de entrada",
                        "El tiempo de ejecuci√≥n es logar√≠tmico"
                    ],
                    correctAnswer: 2
                },
                {
                    question: "¬øCu√°l es la derivada de f(x) = 3x¬≤ + 5x - 2?",
                    options: ["6x + 5", "6x - 5", "3x + 5", "3x¬≤ + 5"],
                    correctAnswer: 0
                },
                {
                    question: "En una base de datos relacional, ¬øqu√© es una clave primaria?",
                    options: [
                        "Un √≠ndice para acelerar consultas",
                        "Un campo que identifica √∫nicamente cada registro",
                        "Una tabla que contiene datos de referencia",
                        "Un tipo de dato especial"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øCu√°l es el valor binario del n√∫mero decimal 25?",
                    options: ["11001", "10101", "11101", "10011"],
                    correctAnswer: 0
                }
            ],
            // Dimensi√≥n 1: Requerimiento Interpersonal y Empat√≠a
            [
                {
                    question: "Si un compa√±ero de equipo est√° frustrado porque su idea fue rechazada, ¬øcu√°l es la mejor respuesta?",
                    options: [
                        "Deber√≠as aceptar la decisi√≥n y seguir adelante.",
                        "Entiendo tu frustraci√≥n. ¬øTe gustar√≠a que analicemos juntos por qu√© fue rechazada?",
                        "No te preocupes, tu idea no era tan buena.",
                        "La decisi√≥n ya est√° tomada, no hay nada que hacer."
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo manejar√≠as una situaci√≥n donde dos miembros de tu equipo tienen un conflicto?",
                    options: [
                        "Ignorar el conflicto y esperar que se resuelva solo",
                        "Hablar con cada uno por separado y luego organizar una reuni√≥n conjunta",
                        "Decidir qui√©n tiene la raz√≥n y apoyar a esa persona",
                        "Evitar trabajar con ambos hasta que se resuelva el conflicto"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Un cliente est√° muy molesto por un retraso en la entrega. ¬øCu√°l ser√≠a tu enfoque?",
                    options: [
                        "Explicar que el retraso no es culpa tuya",
                        "Escuchar sus preocupaciones, disculparte y ofrecer una soluci√≥n concreta",
                        "Prometer una entrega inmediata aunque no sea realista",
                        "Transferir la llamada a tu supervisor"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo apoyar√≠as a un colega que est√° pasando por un momento dif√≠cil personalmente?",
                    options: [
                        "Evitar mencionar el tema para no incomodarle",
                        "Ofrecer tu ayuda de manera discreta y respetuosa",
                        "Contar a todos sobre su situaci√≥n para que puedan ayudar",
                        "Sugerir que tome vacaciones"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "En una negociaci√≥n, ¬øqu√© habilidad interpersonal es m√°s importante?",
                    options: [
                        "Hablar m√°s que el otro para convencerle",
                        "Escuchar activamente para entender las necesidades del otro",
                        "Mantener una postura r√≠gida en tus posiciones",
                        "Interrumpir para aclarar tus puntos r√°pidamente"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 2: Capacidad de Innovaci√≥n y Adaptaci√≥n a IA
            [
                {
                    question: "¬øQu√© es el aprendizaje autom√°tico (Machine Learning)?",
                    options: [
                        "Un tipo de programaci√≥n tradicional",
                        "La capacidad de un sistema para aprender y mejorar a partir de datos sin ser programado expl√≠citamente",
                        "Un lenguaje de programaci√≥n espec√≠fico para IA",
                        "Un hardware especializado para procesamiento de datos"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øCu√°l es un ejemplo de innovaci√≥n disruptiva en IA?",
                    options: [
                        "Mejorar un producto existente",
                        "Crear un producto que reemplaza completamente a uno anterior",
                        "Reducir costos de producci√≥n",
                        "Aumentar la eficiencia de procesos existentes"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo deber√≠a una empresa adaptarse a los cambios tecnol√≥gicos r√°pidos?",
                    options: [
                        "Mantener sus procesos actuales hasta que sea absolutamente necesario cambiar",
                        "Fomentar una cultura de aprendizaje continuo y experimentaci√≥n",
                        "Contratar solo especialistas en tecnolog√≠a",
                        "Delegar toda la adaptaci√≥n tecnol√≥gica al departamento de TI"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© es la 'transformaci√≥n digital'?",
                    options: [
                        "Cambiar todos los documentos f√≠sicos a digitales",
                        "Integrar tecnolog√≠a digital en todas las √°reas de un negocio",
                        "Usar redes sociales para marketing",
                        "Implementar un sistema de contabilidad digital"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øCu√°l es un desaf√≠o √©tico com√∫n en el desarrollo de IA?",
                    options: [
                        "La velocidad de procesamiento",
                        "El sesgo algor√≠tmico y la privacidad de datos",
                        "El consumo de energ√≠a",
                        "La compatibilidad con sistemas antiguos"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 3: Tolerancia al Riesgo y Estabilidad Laboral
            [
                {
                    question: "Al evaluar una oportunidad profesional, ¬øqu√© factor es m√°s importante para ti?",
                    options: [
                        "Salario inicial alto",
                        "Oportunidades de crecimiento y aprendizaje",
                        "Estabilidad laboral a largo plazo",
                        "Ubicaci√≥n conveniente"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo abordar√≠as un proyecto con alto potencial pero tambi√©n alto riesgo de fracaso?",
                    options: [
                        "Rechazarlo inmediatamente por el riesgo",
                        "Analizar cuidadosamente los riesgos y beneficios antes de decidir",
                        "Aceptarlo sin considerar los riesgos",
                        "Delegarlo a otra persona"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "En tu carrera, ¬øqu√© prefieres?",
                    options: [
                        "Un trabajo estable con pocas novedades",
                        "Un trabajo din√°mico con cambios frecuentes",
                        "Trabajar por cuenta propia con ingresos variables",
                        "Un trabajo temporal con alta remuneraci√≥n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© significa para ti la 'seguridad laboral'?",
                    options: [
                        "Tener un contrato indefinido",
                        "Poseer habilidades demandadas en el mercado",
                        "Trabajar en una empresa grande",
                        "Tener un sindicato fuerte"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Ante un cambio tecnol√≥gico que podr√≠a automatizar parte de tu trabajo, ¬øcu√°l ser√≠a tu reacci√≥n?",
                    options: [
                        "Resistirte al cambio",
                        "Aprender a usar la nueva tecnolog√≠a para mejorar tu trabajo",
                        "Buscar otro trabajo en un campo menos afectado",
                        "Ignorar el cambio hasta que sea obligatorio"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 4: Preferencia por el Entorno (F√≠sico vs. Conceptual)
            [
                {
                    question: "¬øQu√© tipo de entorno te resulta m√°s atractivo para trabajar?",
                    options: [
                        "Una oficina con vistas a la naturaleza",
                        "Un laboratorio o taller con equipos especializados",
                        "Un espacio digital o virtual",
                        "Un caf√© o espacio compartido"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Al resolver un problema complejo, ¬øqu√© prefieres?",
                    options: [
                        "Construir un prototipo f√≠sico",
                        "Crear un modelo conceptual o diagrama",
                        "Escribir c√≥digo o algoritmos",
                        "Discutir verbalmente con un equipo"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© actividad te resulta m√°s satisfactoria?",
                    options: [
                        "Construir algo con tus manos",
                        "Analizar datos y encontrar patrones",
                        "Dise√±ar sistemas o estructuras",
                        "Planificar estrategias"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© tipo de proyectos te interesan m√°s?",
                    options: [
                        "Proyectos de construcci√≥n o infraestructura",
                        "Proyectos de investigaci√≥n cient√≠fica",
                        "Proyectos de desarrollo de software",
                        "Proyectos de gesti√≥n o consultor√≠a"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo prefieres aprender algo nuevo?",
                    options: [
                        "Haciendo experimentos pr√°cticos",
                        "Leyendo teor√≠a y conceptos",
                        "Programando o simulando",
                        "Discutiendo con expertos"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 5: Capacidad de Liderazgo y Gesti√≥n de Equipos
            [
                {
                    question: "¬øQu√© cualidad es m√°s importante en un l√≠der?",
                    options: [
                        "Tomar decisiones r√°pidamente",
                        "Escuchar y considerar diferentes perspectivas",
                        "Tener conocimientos t√©cnicos profundos",
                        "Ser estricto en el cumplimiento de normas"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo motivar√≠as a un equipo que est√° perdiendo inter√©s en un proyecto?",
                    options: [
                        "Aumentar la presi√≥n y las horas de trabajo",
                        "Reconocer logros, conectar el trabajo con un prop√≥sito mayor y ofrecer apoyo",
                        "Cambiar completamente el proyecto",
                        "Reemplazar a los miembros menos motivados"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© har√≠as si un miembro de tu equipo no est√° cumpliendo con sus responsabilidades?",
                    options: [
                        "Ignorar el problema y esperar que se solucione solo",
                        "Hablar con la persona para entender las razones y buscar soluciones juntos",
                        "Asignar sus tareas a otros miembros",
                        "Reportarlo inmediatamente a recursos humanos"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo manejas las diferencias de opini√≥n dentro de tu equipo?",
                    options: [
                        "Tomas la decisi√≥n final sin considerar otras opiniones",
                        "Fomentas un debate constructivo y buscas consenso",
                        "Evitas discusiones para mantener la armon√≠a",
                        "Delegas la decisi√≥n a un superior"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© es m√°s importante al establecer metas para tu equipo?",
                    options: [
                        "Que sean muy ambiciosas",
                        "Que sean realistas, medibles y alineadas con objetivos m√°s amplios",
                        "Que sean f√°ciles de alcanzar para mantener la moral alta",
                        "Que sean las mismas para todos los miembros"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 6: Necesidad de Aprendizaje Continuo y Reciclaje
            [
                {
                    question: "¬øCon qu√© frecuencia buscas aprender nuevas habilidades relacionadas con tu trabajo?",
                    options: [
                        "Raramente, solo cuando es necesario",
                        "Regularmente, como parte de mi rutina",
                        "Constantemente, siempre estoy buscando algo nuevo que aprender",
                        "Solo cuando mi empresa ofrece formaci√≥n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo reaccionas cuando aparece una nueva tecnolog√≠a que podr√≠a cambiar tu campo?",
                    options: [
                        "Me resisto al cambio",
                        "Me entusiasmo y busco aprender sobre ella lo antes posible",
                        "Espero a que sea ampliamente adoptada antes de aprenderla",
                        "Dejo que otros la aprendan y luego les pregunto"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© prefieres en un entorno de trabajo?",
                    options: [
                        "Tareas rutinarias y predecibles",
                        "Desaf√≠os constantes que requieran aprender nuevas habilidades",
                        "Un equilibrio entre tareas conocidas y nuevos desaf√≠os",
                        "Trabajar solo en lo que ya domino"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo mantienes tus conocimientos actualizados?",
                    options: [
                        "Conf√≠o en lo que aprend√≠ en mis estudios",
                        "Leo art√≠culos, asisto a conferencias y tomo cursos regularmente",
                        "Aprendo solo cuando surge una necesidad espec√≠fica",
                        "Espero que mi empresa me proporcione formaci√≥n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© significa para ti el 'desarrollo profesional'?",
                    options: [
                        "Ascender en la jerarqu√≠a de la empresa",
                        "Adquirir constantemente nuevas habilidades y conocimientos",
                        "Aumentar tu salario",
                        "Obtener m√°s responsabilidades"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 7: Orientaci√≥n al Detalle y Precisi√≥n
            [
                {
                    question: "Al revisar un documento, ¬øqu√© es lo primero que notas?",
                    options: [
                        "El contenido general y las ideas principales",
                        "Los errores gramaticales y de formato",
                        "La estructura y organizaci√≥n",
                        "La longitud y complejidad"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo abordar√≠as una tarea que requiere alta precisi√≥n?",
                    options: [
                        "La hago r√°pidamente y luego reviso brevemente",
                        "La hago con cuidado, verificando cada paso",
                        "Pido a alguien que la revise despu√©s",
                        "Uso herramientas autom√°ticas para verificar"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Encuentra los 5 errores en este texto: 'La ciencia y la tecnologia avansan rapidamente. Los profesionales deben mantenerse actualizados para no quedarse atras. El aprendisaje continuo es esencial para el desarrrollo profesional.'",
                    options: [
                        "avansan, tecnologia, rapidamente, atras, aprendisaje",
                        "tecnologia, avansan, atras, aprendisaje, desarrrollo",
                        "avansan, tecnologia, rapidamente, atras, desarrrollo",
                        "tecnologia, avansan, rapidamente, aprendisaje, desarrrollo"
                    ],
                    correctAnswer: 0
                },
                {
                    question: "¬øQu√© te resulta m√°s frustrante?",
                    options: [
                        "Trabajar en proyectos ambiguos",
                        "Cometer errores por falta de atenci√≥n",
                        "Tener que repetir tareas",
                        "Trabajar con plazos muy ajustados"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo prefieres organizar tu trabajo?",
                    options: [
                        "De manera flexible, adapt√°ndome seg√∫n sea necesario",
                        "Con listas detalladas y sistemas organizados",
                        "Bas√°ndome en la intuici√≥n y la experiencia",
                        "Dejando que las circunstancias gu√≠en mi trabajo"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 8: Creatividad y Expresi√≥n Art√≠stica
            [
                {
                    question: "¬øQu√© actividad te resulta m√°s atractiva?",
                    options: [
                        "Analizar datos y encontrar patrones",
                        "Dise√±ar soluciones innovadoras a problemas",
                        "Organizar y planificar proyectos",
                        "Investigar y recopilar informaci√≥n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo describir√≠as tu proceso de resoluci√≥n de problemas?",
                    options: [
                        "Sigo m√©todos establecidos y probados",
                        "Combino enfoques conocidos con ideas nuevas",
                        "Busco soluciones completamente originales",
                        "Dependo de la experiencia de otros"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© te inspira m√°s?",
                    options: [
                        "La l√≥gica y la raz√≥n",
                        "La naturaleza y el arte",
                        "La tecnolog√≠a y la innovaci√≥n",
                        "Las personas y las relaciones"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Si tuvieras que crear algo nuevo, ¬øqu√© preferir√≠as?",
                    options: [
                        "Un sistema eficiente",
                        "Una obra de arte",
                        "Un producto √∫til",
                        "Una teor√≠a innovadora"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo te sientes acerca de las reglas y convenciones?",
                    options: [
                        "Son esenciales y deben seguirse",
                        "Son puntos de partida que pueden romperse",
                        "Son limitaciones que evitan la creatividad",
                        "Depende de la situaci√≥n"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi√≥n 9: Impacto Social y √âtica (Motivaci√≥n de Servicio)
            [
                {
                    question: "¬øQu√© te motiva m√°s en tu trabajo?",
                    options: [
                        "El reconocimiento y el √©xito profesional",
                        "La oportunidad de marcar una diferencia positiva",
                        "El desaf√≠o intelectual",
                        "La estabilidad econ√≥mica"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© tipo de proyecto te interesar√≠a m√°s?",
                    options: [
                        "Un proyecto con alto potencial de lucro",
                        "Un proyecto que resuelva un problema social",
                        "Un proyecto t√©cnicamente innovador",
                        "Un proyecto con buen equilibrio vida-trabajo"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øC√≥mo definir√≠as el '√©xito'?",
                    options: [
                        "Alcanzar una posici√≥n alta y reconocimiento",
                        "Tener un impacto positivo en la vida de otros",
                        "Lograr tus metas personales",
                        "Tener seguridad financiera"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "¬øQu√© valor es m√°s importante para ti en una organizaci√≥n?",
                    options: [
                        "Eficiencia y productividad",
                        "Responsabilidad social y √©tica",
                        "Innovaci√≥n y creatividad",
                        "Estabilidad y tradici√≥n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Si tuvieras recursos para iniciar un proyecto, ¬øqu√© tipo elegir√≠as?",
                    options: [
                        "Un negocio con alto potencial de ganancias",
                        "Una iniciativa para ayudar a una comunidad vulnerable",
                        "Una investigaci√≥n cient√≠fica de vanguardia",
                        "Un proyecto cultural o art√≠stico"
                    ],
                    correctAnswer: 1
                }
            ]
        ];

        // Elementos divertidos por dimensi√≥n
        const funElements = [
            // Dimensi√≥n 0: Aptitud T√©cnica y Anal√≠tica
            [
                {
                    title: "¬øSab√≠as que...?",
                    content: "El primer programador de la historia fue una mujer. Ada Lovelace escribi√≥ el primer algoritmo en 1843. ¬°Girl power! üíªüë©‚Äçüíª",
                    emoji: "ü§ì"
                },
                {
                    title: "Chiste de nerds",
                    content: "¬øPor qu√© los programadores confunden Halloween con Navidad? Porque Oct 31 = Dec 25. ¬°Ja! üòÇ",
                    emoji: "üéÉüéÑ"
                }
            ],
            // Dimensi√≥n 1: Requerimiento Interpersonal y Empat√≠a
            [
                {
                    title: "Curiosidad",
                    content: "Sonre√≠r, incluso si no te sientes feliz, puede mejorar tu estado de √°nimo. ¬°Es ciencia! üòä",
                    emoji: "üß†"
                },
                {
                    title: "Superpoder",
                    content: "La empat√≠a es como un superpoder: te permite entender a los dem√°s sin necesidad de palabras m√°gicas. ‚ú®",
                    emoji: "ü¶∏‚Äç‚ôÄÔ∏è"
                }
            ],
            // Dimensi√≥n 2: Capacidad de Innovaci√≥n y Adaptaci√≥n a IA
            [
                {
                    title: "Dato curioso",
                    content: "La IA ya puede crear arte, m√∫sica y hasta escribir historias. ¬øQu√© ser√° lo siguiente? ü§ñüé®",
                    emoji: "üöÄ"
                },
                {
                    title: "Reflexi√≥n",
                    content: "La innovaci√≥n no es tener ideas nuevas, sino dejar de tener ideas viejas. üí°",
                    emoji: "üåü"
                }
            ],
            // Dimensi√≥n 3: Tolerancia al Riesgo y Estabilidad Laboral
            [
                {
                    title: "Dato interesante",
                    content: "Las personas que toman riesgos calculados tienen m√°s probabilidades de alcanzar el √©xito. ¬°Atr√©vete! üéØ",
                    emoji: "üé≤"
                },
                {
                    title: "Consejo",
                    content: "El mayor riesgo en la vida es no tomar ning√∫n riesgo. ¬°Sal de tu zona de confort! üåà",
                    emoji: "üèÑ‚Äç‚ôÇÔ∏è"
                }
            ],
            // Dimensi√≥n 4: Preferencia por el Entorno (F√≠sico vs. Conceptual)
            [
                {
                    title: "Curiosidad",
                    content: "Tu cerebro procesa mejor la informaci√≥n cuando est√°s en un entorno que te gusta. ¬°Busca tu espacio ideal! üåø",
                    emoji: "üèûÔ∏è"
                },
                {
                    title: "Dato divertido",
                    content: "Einstein desarroll√≥ la teor√≠a de la relatividad mientras trabajaba en una oficina de patentes. ¬°La inspiraci√≥n llega en cualquier lugar! üåå",
                    emoji: "üß©"
                }
            ],
            // Dimensi√≥n 5: Capacidad de Liderazgo y Gesti√≥n de Equipos
            [
                {
                    title: "Sabidur√≠a",
                    content: "Un buen l√≠der no crea seguidores, crea m√°s l√≠deres. ¬°Multiplica el talento! üë•",
                    emoji: "üëë"
                },
                {
                    title: "Consejo",
                    content: "La diferencia entre un jefe y un l√≠der: un jefe dice 've', un l√≠der dice 'vamos'. ¬°Gu√≠a con el ejemplo! üö∂‚Äç‚ôÇÔ∏è",
                    emoji: "üåü"
                }
            ],
            // Dimensi√≥n 6: Necesidad de Aprendizaje Continuo y Reciclaje
            [
                {
                    title: "Dato inspirador",
                    content: "El cerebro humano puede seguir aprendiendo y cambiando hasta los 90 a√±os. ¬°Nunca es tarde! üß†‚ú®",
                    emoji: "üìö"
                },
                {
                    title: "Reflexi√≥n",
                    content: "El aprendizaje es como el ejercicio: cuanto m√°s haces, m√°s fuerte te vuelves. ¬°Entrena tu mente! üí™",
                    emoji: "üèãÔ∏è‚Äç‚ôÄÔ∏è"
                }
            ],
            // Dimensi√≥n 7: Orientaci√≥n al Detalle y Precisi√≥n
            [
                {
                    title: "Dato curioso",
                    content: "Los detalles marcan la diferencia entre lo bueno y lo excelente. ¬°La perfecci√≥n est√° en los peque√±os detalles! üîç",
                    emoji: "üéØ"
                },
                {
                    title: "Consejo",
                    content: "En un mundo lleno de distracciones, la atenci√≥n al detalle es una superpotencia. ¬°Usa tu poder! ‚ö°",
                    emoji: "ü¶∏‚Äç‚ôÇÔ∏è"
                }
            ],
            // Dimensi√≥n 8: Creatividad y Expresi√≥n Art√≠stica
            [
                {
                    title: "Inspiraci√≥n",
                    content: "La creatividad es inteligencia divirti√©ndose. ¬°Deja volar tu imaginaci√≥n! üé®‚ú®",
                    emoji: "üåà"
                },
                {
                    title: "Dato divertido",
                    content: "Einstein dijo: 'La creatividad es m√°s importante que el conocimiento'. ¬°Y mira a d√≥nde lleg√≥! üöÄ",
                    emoji: "üí°"
                }
            ],
            // Dimensi√≥n 9: Impacto Social y √âtica (Motivaci√≥n de Servicio)
            [
                {
                    title: "Reflexi√≥n",
                    content: "El verdadero √©xito no es cu√°nto tienes, sino cu√°nto das. ¬°Haz del mundo un lugar mejor! üåç‚ù§Ô∏è",
                    emoji: "ü§ù"
                },
                {
                    title: "Consejo",
                    content: "No necesitas ser grande para empezar, pero necesitas empezar para ser grande. ¬°Cada peque√±o gesto cuenta! üå±",
                    emoji: "üåü"
                }
            ]
        ];

        // Dimensiones con colores asociados
        const dimensions = [
            { id: 0, name: "Aptitud T√©cnica y Anal√≠tica", icon: "fa-calculator", color: "#3498db" },
            { id: 1, name: "Requerimiento Interpersonal y Empat√≠a", icon: "fa-users", color: "#e74c3c" },
            { id: 2, name: "Capacidad de Innovaci√≥n y Adaptaci√≥n a IA", icon: "fa-robot", color: "#9b59b6" },
            { id: 3, name: "Tolerancia al Riesgo y Estabilidad Laboral", icon: "fa-chart-line", color: "#f39c12" },
            { id: 4, name: "Preferencia por el Entorno (F√≠sico vs. Conceptual)", icon: "fa-mountain", color: "#1abc9c" },
            { id: 5, name: "Capacidad de Liderazgo y Gesti√≥n de Equipos", icon: "fa-user-tie", color: "#34495e" },
            { id: 6, name: "Necesidad de Aprendizaje Continuo y Reciclaje", icon: "fa-book", color: "#2ecc71" },
            { id: 7, name: "Orientaci√≥n al Detalle y Precisi√≥n", icon: "fa-search", color: "#16a085" },
            { id: 8, name: "Creatividad y Expresi√≥n Art√≠stica", icon: "fa-palette", color: "#e67e22" },
            { id: 9, name: "Impacto Social y √âtica (Motivaci√≥n de Servicio)", icon: "fa-hands-helping", color: "#d35400" }
        ];

        // Comentarios aleatorios
        const randomComments = [
            "¬°Excelente respuesta, viajero dimensional!",
            "¬°Tu conocimiento brilla como una estrella!",
            "¬°Vaya, qu√© mente privilegiada!",
            "¬°Est√°s en el camino correcto!",
            "¬°Tu sabidur√≠a es impresionante!",
            "¬°Sigue as√≠, explorador!",
            "¬°Tu inteligencia no tiene l√≠mites!",
            "¬°Eres un verdadero maestro!",
            "¬°Tu potencial es infinito!",
            "¬°Vas a conquistar el universo!"
        ];

        // Minijuegos
        const miniGames = [
            {
                type: "memory",
                title: "Juego de Memoria",
                description: "Encuentra las parejas de s√≠mbolos iguales",
                symbols: ["üåü", "üöÄ", "üîë", "üíé", "üåô", "‚ö°", "üîÆ", "üéØ"]
            },
            {
                type: "puzzle",
                title: "Rompecabezas R√°pido",
                description: "Ordena los n√∫meros del 1 al 8",
                solution: [1, 2, 3, 4, 5, 6, 7, 8]
            },
            {
                type: "riddle",
                title: "Acertijo",
                description: "Resuelve el acertijo para ganar puntos extra",
                question: "Tengo ciudades, pero no casas. Tengo monta√±as, pero no √°rboles. Tengo agua, pero no peces. ¬øQu√© soy?",
                answer: "mapa"
            }
        ];

        // C√≥digos secretos
        const secretCodes = {
            "DIMENSIONAL": "Desbloquea el tema c√≥smico",
            "TECHNO": "Desbloquea el tema tecnol√≥gico",
            "NATURE": "Desbloquea el tema naturaleza",
            "MASTER": "Desbloquea todos los logros",
            "EXPLORER": "A√±ade 3 comodines de cada tipo"
        };

        // Estado del juego
        let gameState = {
            completedChallenges: [],
            scores: new Array(10).fill(0),
            currentChallenge: null,
            timer: null,
            timeLeft: 120, // 2 minutos para 2 preguntas
            currentQuestions: [],
            currentAnswers: [],
            showingFeedback: false,
            currentQuestionIndex: 0,
            showingFunElement: false,
            playerLevel: 1,
            playerXP: 0,
            playerXPToNextLevel: 100,
            comboCount: 0,
            powerUps: {
                hint: 3,
                time: 2,
                skip: 1
            },
            unlockedThemes: ["default"],
            currentTheme: "default",
            achievements: [],
            startTime: null,
            questionStartTime: null,
            miniGameActive: false,
            secretCodesUsed: []
        };

        // Inicializar el juego
        function initGame() {
            createParticles();
            renderKeys();
            setupEventListeners();
            updatePlayerLevel();
            updatePowerUps();
            
            // Inicializar el narrador
            setTimeout(() => {
                updateNarrator("¬°Bienvenido, viajero dimensional! Elige tu primera llave.");
            }, 1000);
        }

        // Crear part√≠culas flotantes
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Tama√±o aleatorio
                const size = Math.random() * 5 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Posici√≥n inicial aleatoria
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Opacidad aleatoria
                particle.style.opacity = Math.random() * 0.5 + 0.1;
                
                // Duraci√≥n de la animaci√≥n aleatoria
                const duration = Math.random() * 20 + 10;
                particle.style.animationDuration = `${duration}s`;
                
                // Retardo aleatorio
                const delay = Math.random() * 5;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // Renderizar las llaves
        function renderKeys() {
            const keyContainer = document.getElementById('key-container');
            keyContainer.innerHTML = '';
            
            dimensions.forEach(dimension => {
                const keyCard = document.createElement('div');
                keyCard.className = 'key-card';
                keyCard.dataset.id = dimension.id;
                
                if (gameState.completedChallenges.includes(dimension.id)) {
                    keyCard.classList.add('completed');
                }
                
                // A√±adir dificultad progresiva
                const difficulty = Math.floor(gameState.completedChallenges.length / 3);
                const difficultyMultiplier = 1 + (difficulty * 0.2);
                
                keyCard.innerHTML = `
                    <i class="fas ${dimension.icon}" style="color: ${dimension.color}"></i>
                    <h3>${dimension.name}</h3>
                    <div class="score">${gameState.scores[dimension.id]}</div>
                    ${difficulty > 0 ? `<div class="difficulty">Dificultad: ${'‚òÖ'.repeat(difficulty)}</div>` : ''}
                `;
                
                keyCard.addEventListener('click', () => openChallenge(dimension.id));
                keyContainer.appendChild(keyCard);
            });
            
            updateProgress();
        }

        // Actualizar el progreso
        function updateProgress() {
            const progress = (gameState.completedChallenges.length / 10) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `Progreso: ${gameState.completedChallenges.length}/10 llaves recolectadas`;
            
            if (gameState.completedChallenges.length === 10) {
                document.getElementById('complete-game-btn').style.display = 'block';
                createConfetti();
                checkAlternateEnding();
            }
        }

        // Crear confeti al completar el juego
        function createConfetti() {
            const colors = ['#f39c12', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `-10px`;
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    
                    document.body.appendChild(confetti);
                    
                    // Eliminar el confeti despu√©s de la animaci√≥n
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 30);
            }
        }

        // Abrir un desaf√≠o
        function openChallenge(dimensionId) {
            if (gameState.completedChallenges.includes(dimensionId)) {
                showNotification('¬°Ya completaste este desaf√≠o! Prueba con otra llave.', 'warning');
                return;
            }
            
            const dimension = dimensions[dimensionId];
            gameState.currentChallenge = dimensionId;
            gameState.timeLeft = 120; // 2 minutos
            gameState.currentQuestionIndex = 0;
            gameState.showingFeedback = false;
            gameState.showingFunElement = false;
            gameState.startTime = Date.now();
            gameState.questionStartTime = Date.now();
            
            // Seleccionar 2 preguntas al azar
            const allQuestions = [...questionsBank[dimensionId]];
            gameState.currentQuestions = [];
            
            for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * allQuestions.length);
                gameState.currentQuestions.push(allQuestions[randomIndex]);
                allQuestions.splice(randomIndex, 1);
            }
            
            gameState.currentAnswers = new Array(2).fill(null);
            
            document.getElementById('challenge-title').textContent = dimension.name;
            document.getElementById('challenge-title').style.color = dimension.color;
            document.getElementById('challenge-modal').style.display = 'flex';
            
            renderCurrentQuestion();
            startTimer();
            
            // Actualizar narrador
            updateNarrator(`¬°Has seleccionado la llave de ${dimension.name}! Prep√°rate para el desaf√≠o.`);
            
            // Posibilidad de minijuego
            if (Math.random() > 0.7 && !gameState.miniGameActive) {
                setTimeout(() => {
                    showMiniGame();
                }, 2000);
            }
        }

        // Mostrar minijuego
        function showMiniGame() {
            if (gameState.miniGameActive) return;
            
            gameState.miniGameActive = true;
            const miniGame = miniGames[Math.floor(Math.random() * miniGames.length)];
            
            const questionsContainer = document.getElementById('questions-container');
            const miniGameElement = document.createElement('div');
            miniGameElement.className = 'mini-game';
            
            if (miniGame.type === 'memory') {
                // Implementar juego de memoria
                miniGameElement.innerHTML = `
                    <h3>${miniGame.title}</h3>
                    <p>${miniGame.description}</p>
                    <div class="mini-game-options" id="memory-game"></div>
                `;
                
                questionsContainer.appendChild(miniGameElement);
                
                const memoryGame = document.getElementById('memory-game');
                const symbols = [...miniGame.symbols, ...miniGame.symbols];
                symbols.sort(() => Math.random() - 0.5);
                
                let flippedCards = [];
                let matchedPairs = 0;
                
                symbols.forEach((symbol, index) => {
                    const card = document.createElement('div');
                    card.className = 'mini-game-option';
                    card.dataset.symbol = symbol;
                    card.dataset.index = index;
                    card.textContent = '?';
                    
                    card.addEventListener('click', function() {
                        if (flippedCards.length < 2 && !this.classList.contains('flipped')) {
                            this.textContent = this.dataset.symbol;
                            this.classList.add('flipped');
                            flippedCards.push(this);
                            
                            if (flippedCards.length === 2) {
                                setTimeout(() => {
                                    if (flippedCards[0].dataset.symbol === flippedCards[1].dataset.symbol) {
                                        flippedCards.forEach(card => {
                                            card.style.backgroundColor = 'rgba(46, 204, 113, 0.3)';
                                            card.style.borderColor = '#2ecc71';
                                        });
                                        matchedPairs++;
                                        
                                        if (matchedPairs === miniGame.symbols.length) {
                                            setTimeout(() => {
                                                showNotification('¬°Has completado el minijuego! +50 XP', 'success');
                                                addXP(50);
                                                miniGameElement.remove();
                                                gameState.miniGameActive = false;
                                            }, 1000);
                                        }
                                    } else {
                                        flippedCards.forEach(card => {
                                            card.textContent = '?';
                                            card.classList.remove('flipped');
                                        });
                                    }
                                    flippedCards = [];
                                }, 1000);
                            }
                        }
                    });
                    
                    memoryGame.appendChild(card);
                });
            } else if (miniGame.type === 'riddle') {
                // Implementar acertijo
                miniGameElement.innerHTML = `
                    <h3>${miniGame.title}</h3>
                    <p>${miniGame.description}</p>
                    <p>${miniGame.question}</p>
                    <input type="text" class="team-input" id="riddle-answer" placeholder="Tu respuesta">
                    <button class="btn" id="submit-riddle">Enviar</button>
                `;
                
                questionsContainer.appendChild(miniGameElement);
                
                document.getElementById('submit-riddle').addEventListener('click', () => {
                    const answer = document.getElementById('riddle-answer').value.toLowerCase().trim();
                    if (answer === miniGame.answer) {
                        showNotification('¬°Respuesta correcta! +50 XP', 'success');
                        addXP(50);
                        miniGameElement.remove();
                        gameState.miniGameActive = false;
                    } else {
                        showNotification('Respuesta incorrecta. Int√©ntalo de nuevo.', 'error');
                    }
                });
            }
        }

        // Renderizar la pregunta actual
        function renderCurrentQuestion() {
            const questionsContainer = document.getElementById('questions-container');
            
            // Si hay un minijuego activo, no renderizar preguntas
            if (gameState.miniGameActive) return;
            
            questionsContainer.innerHTML = '';
            
            if (gameState.showingFunElement) {
                // Mostrar elemento divertido
                const funElementIndex = Math.floor(Math.random() * funElements[gameState.currentChallenge].length);
                const funElement = funElements[gameState.currentChallenge][funElementIndex];
                
                const funDiv = document.createElement('div');
                funDiv.className = 'fun-element';
                funDiv.innerHTML = `
                    <h3>${funElement.title}</h3>
                    <div class="emoji">${funElement.emoji}</div>
                    <p>${funElement.content}</p>
                    <button class="btn next-question-btn" id="next-question-btn">Siguiente pregunta ‚Üí</button>
                `;
                
                questionsContainer.appendChild(funDiv);
                
                document.getElementById('next-question-btn').addEventListener('click', () => {
                    gameState.showingFunElement = false;
                    gameState.currentQuestionIndex++;
                    gameState.questionStartTime = Date.now();
                    
                    if (gameState.currentQuestionIndex < 2) {
                        renderCurrentQuestion();
                    } else {
                        // Todas las preguntas respondidas, mostrar bot√≥n de enviar
                        renderSubmitButton();
                    }
                });
            } else {
                // Mostrar pregunta actual
                const question = gameState.currentQuestions[gameState.currentQuestionIndex];
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                
                // A√±adir dificultad progresiva
                const difficulty = Math.floor(gameState.completedChallenges.length / 3);
                const timeReduction = difficulty * 10; // Reducir tiempo seg√∫n dificultad
                
                const optionsHtml = question.options.map((option, optionIndex) => `
                    <div class="option" data-question="${gameState.currentQuestionIndex}" data-option="${optionIndex}">
                        <input type="radio" id="q${gameState.currentQuestionIndex}_opt${optionIndex}" name="question${gameState.currentQuestionIndex}" value="${optionIndex}">
                        <div class="radio-custom"></div>
                        <label for="q${gameState.currentQuestionIndex}_opt${optionIndex}">${option}</label>
                    </div>
                `).join('');
                
                questionDiv.innerHTML = `
                    <div class="question">Pregunta ${gameState.currentQuestionIndex + 1}/2: ${question.question}</div>
                    <div class="options">${optionsHtml}</div>
                `;
                
                questionsContainer.appendChild(questionDiv);
                
                // Agregar event listeners a las opciones
                document.querySelectorAll('.option').forEach(option => {
                    option.addEventListener('click', function() {
                        if (gameState.showingFeedback) return;
                        
                        const questionIndex = parseInt(this.dataset.question);
                        const optionIndex = parseInt(this.dataset.option);
                        
                        // Marcar la opci√≥n seleccionada
                        document.querySelectorAll(`input[name="question${questionIndex}"]`).forEach(input => {
                            input.checked = false;
                        });
                        
                        this.querySelector('input').checked = true;
                        
                        // Actualizar el estado visual
                        document.querySelectorAll(`.option[data-question="${questionIndex}"]`).forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        this.classList.add('selected');
                        
                        // Guardar la respuesta
                        gameState.currentAnswers[questionIndex] = optionIndex;
                        
                        // Mostrar feedback inmediato
                        showImmediateFeedback(questionIndex, optionIndex);
                    });
                });
                
                // Restaurar respuesta previa si la hay
                if (gameState.currentAnswers[gameState.currentQuestionIndex] !== null) {
                    const answerIndex = gameState.currentAnswers[gameState.currentQuestionIndex];
                    const optionElement = document.querySelector(`.option[data-question="${gameState.currentQuestionIndex}"][data-option="${answerIndex}"]`);
                    if (optionElement) {
                        optionElement.classList.add('selected');
                        optionElement.querySelector('input').checked = true;
                    }
                }
            }
        }

        // Renderizar bot√≥n de enviar
        function renderSubmitButton() {
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = `
                <div class="question-container" style="text-align: center;">
                    <h3>¬°Has respondido todas las preguntas!</h3>
                    <p>¬øListo para enviar tus respuestas y obtener tu llave?</p>
                    <button class="btn btn-submit" id="final-submit-btn">Enviar respuestas</button>
                </div>
            `;
            
            document.getElementById('final-submit-btn').addEventListener('click', () => {
                submitChallenge();
            });
        }

        // Mostrar feedback inmediato al seleccionar una opci√≥n
        function showImmediateFeedback(questionIndex, selectedOption) {
            const correctOption = gameState.currentQuestions[questionIndex].correctAnswer;
            const options = document.querySelectorAll(`.option[data-question="${questionIndex}"]`);
            
            gameState.showingFeedback = true;
            
            // Calcular tiempo de respuesta
            const responseTime = Date.now() - gameState.questionStartTime;
            const speedBonus = responseTime < 30000 ? 2 : 1; // Bonus si responde en menos de 30 segundos
            
            // Mostrar si la opci√≥n seleccionada es correcta o incorrecta
            if (selectedOption === correctOption) {
                options[selectedOption].classList.add('correct');
                
                // Actualizar combo
                gameState.comboCount++;
                if (gameState.comboCount >= 3) {
                    showComboIndicator(`¬°COMBO x${gameState.comboCount}!`);
                    checkAchievement('combo');
                }
                
                // A√±adir XP
                const xpGain = 20 * speedBonus;
                addXP(xpGain);
                
                // Verificar logro de velocidad
                if (responseTime < 30000) {
                    checkAchievement('speed');
                }
                
                showNotification('¬°Correcto! ¬°Eres un crack! üéâ', 'success');
                updateNarrator(randomComments[Math.floor(Math.random() * randomComments.length)]);
            } else {
                options[selectedOption].classList.add('incorrect');
                options[correctOption].classList.add('correct');
                
                // Resetear combo
                gameState.comboCount = 0;
                
                showNotification('Ups, no es correcta. ¬°Pero no te preocupes, sigue intent√°ndolo! üòÖ', 'error');
                updateNarrator("No te preocupes, todos cometemos errores. ¬°Sigue intent√°ndolo!");
            }
            
            // Deshabilitar las opciones para esta pregunta
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Habilitar las opciones despu√©s de un tiempo
            setTimeout(() => {
                gameState.showingFeedback = false;
                
                // Mostrar elemento divertido despu√©s de responder
                setTimeout(() => {
                    gameState.showingFunElement = true;
                    renderCurrentQuestion();
                }, 1000);
            }, 1500);
        }

        // Mostrar indicador de combo
        function showComboIndicator(text) {
            const comboIndicator = document.createElement('div');
            comboIndicator.className = 'combo-indicator';
            comboIndicator.textContent = text;
            document.body.appendChild(comboIndicator);
            
            setTimeout(() => {
                comboIndicator.remove();
            }, 1000);
        }

        // Iniciar el temporizador
        function startTimer() {
            clearInterval(gameState.timer);
            updateTimerDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    submitChallenge(true); // Tiempo agotado
                }
                
                // Cambiar el color del temporizador cuando queda poco tiempo
                const timerElement = document.getElementById('timer');
                if (gameState.timeLeft <= 30) {
                    timerElement.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
                } else if (gameState.timeLeft <= 60) {
                    timerElement.style.background = 'linear-gradient(45deg, #f39c12, #d35400)';
                }
            }, 1000);
        }

        // Actualizar la visualizaci√≥n del temporizador
        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            document.getElementById('timer').textContent = `Tiempo restante: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Enviar el desaf√≠o
        function submitChallenge(timeOut = false) {
            clearInterval(gameState.timer);
            
            let score = 0;
            
            if (timeOut) {
                // Calcular puntuaci√≥n basada en respuestas contestadas
                const answeredCount = gameState.currentAnswers.filter(answer => answer !== null).length;
                score = Math.round((answeredCount / 2) * 10);
                showNotification('¬°Tiempo agotado! Tu puntuaci√≥n se basa en las respuestas que contestaste. ‚è±Ô∏è', 'warning');
            } else {
                // Verificar si todas las preguntas fueron respondidas
                const unansweredCount = gameState.currentAnswers.filter(answer => answer === null).length;
                if (unansweredCount > 0) {
                    showNotification(`¬°Falta responder ${unansweredCount} pregunta(s)! ¬°Completa todas antes de enviar!`, 'warning');
                    return;
                }
                
                // Calcular puntuaci√≥n basada en respuestas correctas
                let correctCount = 0;
                gameState.currentAnswers.forEach((answer, index) => {
                    if (answer === gameState.currentQuestions[index].correctAnswer) {
                        correctCount++;
                    }
                });
                
                score = Math.round((correctCount / 2) * 10);
                
                // Bonus por combo
                if (gameState.comboCount >= 3) {
                    score = Math.min(10, score + 1);
                }
                
                if (score === 10) {
                    showNotification('¬°WOW! ¬°Todas tus respuestas son correctas! ¬°Eres un genio! üß†‚ú®', 'success');
                    checkAchievement('perfect');
                } else if (score >= 7) {
                    showNotification(`¬°Buen trabajo! Respondiste correctamente ${correctCount} de 2 preguntas. ¬°Sigue as√≠! üëç`, 'success');
                } else {
                    showNotification(`Respondiste correctamente ${correctCount} de 2 preguntas. ¬°No te rindas, la pr√°ctica hace al maestro! üí™`, 'warning');
                }
            }
            
            // Guardar la puntuaci√≥n
            gameState.scores[gameState.currentChallenge] = score;
            gameState.completedChallenges.push(gameState.currentChallenge);
            
            // A√±adir XP por completar desaf√≠o
            addXP(30);
            
            // Verificar logros
            checkAchievement('first-key');
            if (gameState.completedChallenges.length === 5) {
                checkAchievement('half-keys');
            }
            if (gameState.completedChallenges.length === 10) {
                checkAchievement('all-keys');
            }
            
            // Mostrar animaci√≥n de llave recolectada
            showKeyAnimation();
            showLightExplosion();
            
            // Actualizar narrador
            updateNarrator(`¬°Has obtenido la llave de ${dimensions[gameState.currentChallenge].name} con ${score} puntos!`);
            
            // Cerrar el modal despu√©s de un tiempo
            setTimeout(() => {
                document.getElementById('challenge-modal').style.display = 'none';
                renderKeys();
            }, 2000);
        }

        // Mostrar animaci√≥n de llave recolectada
        function showKeyAnimation() {
            const dimension = dimensions[gameState.currentChallenge];
            const keyAnimation = document.createElement('div');
            keyAnimation.className = 'key-animation';
            keyAnimation.innerHTML = `<i class="fas ${dimension.icon}" style="color: ${dimension.color}"></i>`;
            document.body.appendChild(keyAnimation);
            
            setTimeout(() => {
                keyAnimation.remove();
            }, 2000);
        }

        // Mostrar explosi√≥n de luz
        function showLightExplosion() {
            const lightExplosion = document.createElement('div');
            lightExplosion.className = 'light-explosion';
            document.body.appendChild(lightExplosion);
            
            setTimeout(() => {
                lightExplosion.remove();
            }, 1000);
        }

        // A√±adir XP al jugador
        function addXP(amount) {
            gameState.playerXP += amount;
            
            // Verificar si sube de nivel
            while (gameState.playerXP >= gameState.playerXPToNextLevel) {
                gameState.playerXP -= gameState.playerXPToNextLevel;
                gameState.playerLevel++;
                gameState.playerXPToNextLevel = gameState.playerLevel * 100;
                
                showNotification(`¬°Has subido al nivel ${gameState.playerLevel}! üéâ`, 'success');
                updatePlayerLevel();
            }
            
            updatePlayerLevel();
        }

        // Actualizar nivel del jugador
        function updatePlayerLevel() {
            document.getElementById('avatar-level').textContent = gameState.playerLevel;
            
            const xpProgress = (gameState.playerXP / gameState.playerXPToNextLevel) * 100;
            document.getElementById('xp-progress').style.width = `${xpProgress}%`;
        }

        // Actualizar power-ups
        function updatePowerUps() {
            document.querySelector('#hint-power-up .power-up-count').textContent = gameState.powerUps.hint;
            document.querySelector('#time-power-up .power-up-count').textContent = gameState.powerUps.time;
            document.querySelector('#skip-power-up .power-up-count').textContent = gameState.powerUps.skip;
            
            // Deshabilitar power-ups si no quedan
            if (gameState.powerUps.hint <= 0) {
                document.getElementById('hint-power-up').classList.add('disabled');
            }
            if (gameState.powerUps.time <= 0) {
                document.getElementById('time-power-up').classList.add('disabled');
            }
            if (gameState.powerUps.skip <= 0) {
                document.getElementById('skip-power-up').classList.add('disabled');
            }
        }

        // Usar power-up
        function usePowerUp(type) {
            if (gameState.powerUps[type] <= 0) {
                showNotification('No te quedan power-ups de este tipo.', 'warning');
                return;
            }
            
            gameState.powerUps[type]--;
            updatePowerUps();
            
            if (type === 'hint') {
                // Eliminar una opci√≥n incorrecta
                const currentQuestion = gameState.currentQuestions[gameState.currentQuestionIndex];
                const correctOption = currentQuestion.correctAnswer;
                const options = document.querySelectorAll('.option');
                
                // Encontrar opciones incorrectas
                const incorrectOptions = [];
                options.forEach((option, index) => {
                    if (index !== correctOption) {
                        incorrectOptions.push(option);
                    }
                });
                
                // Eliminar una opci√≥n incorrecta aleatoria
                if (incorrectOptions.length > 0) {
                    const randomIndex = Math.floor(Math.random() * incorrectOptions.length);
                    const optionToRemove = incorrectOptions[randomIndex];
                    optionToRemove.style.opacity = '0.3';
                    optionToRemove.style.pointerEvents = 'none';
                    
                    showNotification('¬°Una opci√≥n incorrecta ha sido eliminada!', 'success');
                }
            } else if (type === 'time') {
                // A√±adir 30 segundos
                gameState.timeLeft += 30;
                updateTimerDisplay();
                showNotification('¬°Se han a√±adido 30 segundos al temporizador!', 'success');
            } else if (type === 'skip') {
                // Omitir la pregunta actual
                if (gameState.currentQuestionIndex < 1) {
                    gameState.currentQuestionIndex++;
                    gameState.showingFunElement = false;
                    renderCurrentQuestion();
                    showNotification('¬°Has omitido la pregunta actual!', 'success');
                }
            }
        }

        // Verificar logros
        function checkAchievement(achievementId) {
            if (gameState.achievements.includes(achievementId)) return;
            
            let unlocked = false;
            
            switch (achievementId) {
                case 'first-key':
                    if (gameState.completedChallenges.length >= 1) {
                        unlocked = true;
                    }
                    break;
                case 'half-keys':
                    if (gameState.completedChallenges.length >= 5) {
                        unlocked = true;
                    }
                    break;
                case 'all-keys':
                    if (gameState.completedChallenges.length >= 10) {
                        unlocked = true;
                    }
                    break;
                case 'perfect':
                    if (gameState.scores[gameState.currentChallenge] === 10) {
                        unlocked = true;
                    }
                    break;
                case 'combo':
                    if (gameState.comboCount >= 3) {
                        unlocked = true;
                    }
                    break;
                case 'speed':
                    // Este logro se verifica en showImmediateFeedback
                    unlocked = true;
                    break;
            }
            
            if (unlocked) {
                gameState.achievements.push(achievementId);
                document.getElementById(`achievement-${achievementId}`).classList.add('unlocked');
                showNotification(`¬°Logro desbloqueado: ${getAchievementName(achievementId)}! üèÜ`, 'success');
                addXP(50);
            }
        }

        // Obtener nombre del logro
        function getAchievementName(achievementId) {
            const names = {
                'first-key': 'Primer Paso',
                'half-keys': 'A Mitad de Camino',
                'all-keys': 'Maestro de Llaves',
                'perfect': 'Perfecci√≥n',
                'combo': 'En Llamas',
                'speed': 'Rel√°mpago'
            };
            return names[achievementId] || 'Logro desconocido';
        }

        // Calcular las carreras m√°s compatibles
        function calculateCompatibleCareers() {
            const userScores = gameState.scores;
            const careerScores = {};
            
            // Calcular la correlaci√≥n de Spearman para cada carrera
            for (const [career, scores] of Object.entries(professionsMatrix)) {
                let correlation = calculateSpearmanCorrelation(userScores, scores);
                careerScores[career] = correlation;
            }
            
            // Ordenar las carreras por correlaci√≥n (de mayor a menor)
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);
            
            return sortedCareers;
        }

        // Calcular la correlaci√≥n de Spearman (versi√≥n simplificada)
        function calculateSpearmanCorrelation(x, y) {
            // Convertir a rangos
            const rankX = getRanks(x);
            const rankY = getRanks(y);
            
            // Calcular la diferencia de rangos al cuadrado
            let dSquaredSum = 0;
            for (let i = 0; i < rankX.length; i++) {
                const d = rankX[i] - rankY[i];
                dSquaredSum += d * d;
            }
            
            // Calcular la correlaci√≥n de Spearman
            const n = rankX.length;
            const spearman = 1 - (6 * dSquaredSum) / (n * (n * n - 1));
            
            return spearman;
        }

        // Obtener los rangos de un array
        function getRanks(arr) {
            // Crear una copia del array original
            const sorted = [...arr].sort((a, b) => a - b);
            
            // Crear un mapa de valores a rangos
            const rankMap = {};
            sorted.forEach((value, index) => {
                if (!rankMap[value]) {
                    rankMap[value] = index + 1;
                }
            });
            
            // Mapear los valores originales a sus rangos
            return arr.map(value => rankMap[value]);
        }

        // Mostrar los resultados
        function showResults() {
            const compatibleCareers = calculateCompatibleCareers();
            const careerList = document.getElementById('career-list');
            careerList.innerHTML = '';
            
            compatibleCareers.forEach(([career, score], index) => {
                const careerItem = document.createElement('li');
                careerItem.className = 'career-item';
                
                // Convertir la correlaci√≥n a un porcentaje para mostrar
                const percentage = Math.max(0, Math.min(100, Math.round((score + 1) * 50)));
                
                careerItem.innerHTML = `
                    <div>
                        <div class="career-name">${index + 1}. ${career}</div>
                        <div>Compatibilidad: ${percentage}%</div>
                    </div>
                    <div class="career-score">${percentage}%</div>
                `;
                
                careerList.appendChild(careerItem);
            });
            
            // Ocultar el contenedor del juego y mostrar los resultados
            document.getElementById('game-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'block';
            
            // Generar un c√≥digo √∫nico para compartir
            const userCode = generateUserCode();
            document.getElementById('friend-code').placeholder = `C√≥digo de resultado de tu amigo (ej: ${userCode})`;
            
            // Actualizar narrador
            updateNarrator("¬°Felicidades! Has completado todas las llaves. Descubre tus carreras compatibles.");
        }

        // Generar un c√≥digo de usuario √∫nico
        function generateUserCode() {
            const scores = gameState.scores.join('');
            const timestamp = Date.now().toString();
            const code = btoa(scores + timestamp).substring(0, 8).replace(/[^a-zA-Z0-9]/g, '');
            return code.toUpperCase();
        }

        // Decodificar un c√≥digo de usuario
        function decodeUserCode(code) {
            try {
                const decoded = atob(code);
                const scores = decoded.substring(0, 10);
                return scores.split('').map(Number);
            } catch (e) {
                return null;
            }
        }

        // Comparar resultados con un amigo
        function compareResults() {
            const friendCode = document.getElementById('friend-code').value.trim().toUpperCase();
            if (!friendCode) {
                showNotification('¬°Hey! Ingresa un c√≥digo v√°lido para comparar. ü§î', 'warning');
                return;
            }
            
            const friendScores = decodeUserCode(friendCode);
            if (!friendScores || friendScores.length !== 10) {
                showNotification('¬°Ups! C√≥digo inv√°lido. Verifica e intenta de nuevo. ‚ùå', 'error');
                return;
            }
            
            // Calcular la compatibilidad entre los dos perfiles
            const compatibility = calculateProfileCompatibility(gameState.scores, friendScores);
            
            // Mostrar los resultados
            const teamResults = document.getElementById('team-results');
            teamResults.style.display = 'block';
            
            // Encontrar las carreras m√°s compatibles para el equipo
            const teamScores = gameState.scores.map((score, index) => (score + friendScores[index]) / 2);
            const teamCompatibleCareers = calculateCompatibleCareersForScores(teamScores);
            
            teamResults.innerHTML = `
                <h5>Compatibilidad de equipo: ${Math.round(compatibility * 100)}%</h5>
                <p>Las carreras m√°s compatibles para tu equipo son:</p>
                <ul>
                    ${teamCompatibleCareers.slice(0, 3).map(([career, score], index) => {
                        const percentage = Math.max(0, Math.min(100, Math.round((score + 1) * 50)));
                        return `<li>${index + 1}. ${career} (${percentage}%)</li>`;
                    }).join('')}
                </ul>
            `;
        }

        // Calcular la compatibilidad entre dos perfiles
        function calculateProfileCompatibility(profile1, profile2) {
            // Calcular la correlaci√≥n de Pearson entre los dos perfiles
            let sum1 = 0, sum2 = 0, sum1Sq = 0, sum2Sq = 0, pSum = 0;
            const n = profile1.length;
            
            for (let i = 0; i < n; i++) {
                sum1 += profile1[i];
                sum2 += profile2[i];
                sum1Sq += profile1[i] * profile1[i];
                sum2Sq += profile2[i] * profile2[i];
                pSum += profile1[i] * profile2[i];
            }
            
            const num = pSum - (sum1 * sum2 / n);
            const den = Math.sqrt((sum1Sq - sum1 * sum1 / n) * (sum2Sq - sum2 * sum2 / n));
            
            if (den === 0) return 0;
            return num / den;
        }

        // Calcular las carreras m√°s compatibles para un perfil espec√≠fico
        function calculateCompatibleCareersForScores(scores) {
            const careerScores = {};
            
            // Calcular la correlaci√≥n de Spearman para cada carrera
            for (const [career, careerScoresArray] of Object.entries(professionsMatrix)) {
                let correlation = calculateSpearmanCorrelation(scores, careerScoresArray);
                careerScores[career] = correlation;
            }
            
            // Ordenar las carreras por correlaci√≥n (de mayor a menor)
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1]);
            
            return sortedCareers;
        }

        // Reiniciar el juego
        function restartGame() {
            gameState = {
                completedChallenges: [],
                scores: new Array(10).fill(0),
                currentChallenge: null,
                timer: null,
                timeLeft: 120,
                currentQuestions: [],
                currentAnswers: [],
                showingFeedback: false,
                currentQuestionIndex: 0,
                showingFunElement: false,
                playerLevel: 1,
                playerXP: 0,
                playerXPToNextLevel: 100,
                comboCount: 0,
                powerUps: {
                    hint: 3,
                    time: 2,
                    skip: 1
                },
                unlockedThemes: ["default"],
                currentTheme: "default",
                achievements: [],
                startTime: null,
                questionStartTime: null,
                miniGameActive: false,
                secretCodesUsed: []
            };
            
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('results-container').style.display = 'none';
            
            // Resetear logros
            document.querySelectorAll('.achievement').forEach(achievement => {
                achievement.classList.remove('unlocked');
            });
            
            renderKeys();
            updatePlayerLevel();
            updatePowerUps();
            
            // Actualizar narrador
            updateNarrator("¬°Bienvenido de nuevo, viajero dimensional! Elige tu primera llave.");
        }

        // Mostrar una notificaci√≥n
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification show';
            
            if (type === 'error') {
                notification.classList.add('error');
            } else if (type === 'warning') {
                notification.classList.add('warning');
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Compartir en redes sociales
        function shareOnSocial(platform) {
            const compatibleCareers = calculateCompatibleCareers();
            const topCareer = compatibleCareers[0][0];
            const percentage = Math.max(0, Math.min(100, Math.round((compatibleCareers[0][1] + 1) * 50)));
            const userCode = generateUserCode();
            
            const text = `¬°Acabo de descubrir que mi carrera ideal es ${topCareer} con ${percentage}% de compatibilidad en Carrera Quest! ¬°Descubre la tuya tambi√©n! Mi c√≥digo es ${userCode}`;
            const url = window.location.href;
            
            let shareUrl = '';
            
            switch (platform) {
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
                    break;
            }
            
            window.open(shareUrl, '_blank');
        }

        // Cambiar tema
        function changeTheme(theme) {
            if (!gameState.unlockedThemes.includes(theme)) {
                showNotification('¬°Este tema est√° bloqueado! Completa m√°s desaf√≠os para desbloquearlo.', 'warning');
                return;
            }
            
            gameState.currentTheme = theme;
            document.body.className = theme === 'default' ? '' : `theme-${theme}`;
            
            // Actualizar selector de temas
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
                if (option.dataset.theme === theme) {
                    option.classList.add('active');
                }
            });
            
            // Actualizar part√≠culas
            createParticles();
            
            showNotification(`¬°Tema ${theme} activado!`, 'success');
        }

        // Actualizar narrador
        function updateNarrator(message) {
            const narrator = document.getElementById('narrator');
            narrator.textContent = message;
            narrator.style.opacity = '1';
            
            setTimeout(() => {
                narrator.style.opacity = '0.7';
            }, 3000);
        }

        // Verificar final alternativo
        function checkAlternateEnding() {
            // Verificar si todas las puntuaciones son 10
            const allPerfect = gameState.scores.every(score => score === 10);
            
            if (allPerfect) {
                document.getElementById('alternate-ending').style.display = 'block';
                showNotification('¬°Has desbloqueado el final secreto! üéâ', 'success');
            }
        }

        // Configurar los event listeners
        function setupEventListeners() {
            document.getElementById('close-modal').addEventListener('click', () => {
                clearInterval(gameState.timer);
                document.getElementById('challenge-modal').style.display = 'none';
            });
            
            document.getElementById('show-results').addEventListener('click', showResults);
            
            document.getElementById('restart-game').addEventListener('click', restartGame);
            
            document.getElementById('compare-results').addEventListener('click', compareResults);
            
            document.getElementById('share-twitter').addEventListener('click', () => shareOnSocial('twitter'));
            document.getElementById('share-facebook').addEventListener('click', () => shareOnSocial('facebook'));
            document.getElementById('share-whatsapp').addEventListener('click', () => shareOnSocial('whatsapp'));
            
            // Power-ups
            document.getElementById('hint-power-up').addEventListener('click', () => usePowerUp('hint'));
            document.getElementById('time-power-up').addEventListener('click', () => usePowerUp('time'));
            document.getElementById('skip-power-up').addEventListener('click', () => usePowerUp('skip'));
            
            // Selector de temas
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', () => changeTheme(option.dataset.theme));
            });
            
            // Easter egg
            document.getElementById('easter-egg').addEventListener('click', () => {
                document.getElementById('secret-code').style.display = 'block';
                showNotification('¬°Has encontrado un c√≥digo secreto! üéÅ', 'success');
            });
            
            // Desbloquear c√≥digo secreto
            document.getElementById('unlock-secret').addEventListener('click', () => {
                const code = document.getElementById('secret-code-input').value.toUpperCase();
                
                if (secretCodes[code]) {
                    if (gameState.secretCodesUsed.includes(code)) {
                        showNotification('¬°Ya has usado este c√≥digo!', 'warning');
                        return;
                    }
                    
                    gameState.secretCodesUsed.push(code);
                    
                    if (code === 'DIMENSIONAL') {
                        gameState.unlockedThemes.push('cosmic');
                        changeTheme('cosmic');
                    } else if (code === 'TECHNO') {
                        gameState.unlockedThemes.push('tech');
                        changeTheme('tech');
                    } else if (code === 'NATURE') {
                        gameState.unlockedThemes.push('nature');
                        changeTheme('nature');
                    } else if (code === 'MASTER') {
                        // Desbloquear todos los logros
                        document.querySelectorAll('.achievement').forEach(achievement => {
                            achievement.classList.add('unlocked');
                        });
                        showNotification('¬°Todos los logros desbloqueados! üèÜ', 'success');
                    } else if (code === 'EXPLORER') {
                        // A√±adir power-ups
                        gameState.powerUps.hint += 3;
                        gameState.powerUps.time += 2;
                        gameState.powerUps.skip += 1;
                        updatePowerUps();
                        showNotification('¬°Power-ups a√±adidos! ‚ö°', 'success');
                    }
                    
                    showNotification(`C√≥digo secreto usado: ${secretCodes[code]}`, 'success');
                    document.getElementById('secret-code-input').value = '';
                } else {
                    showNotification('C√≥digo inv√°lido. Int√©ntalo de nuevo.', 'error');
                }
            });
            
            // Personalizaci√≥n de avatar
            document.getElementById('player-avatar').addEventListener('click', () => {
                const avatars = [
                    'fa-user-astronaut',
                    'fa-user-ninja',
                    'fa-user-secret',
                    'fa-user-tie',
                    'fa-user-graduate'
                ];
                
                const currentAvatar = document.querySelector('#player-avatar i').className;
                const currentIndex = avatars.findIndex(avatar => currentAvatar.includes(avatar));
                const nextIndex = (currentIndex + 1) % avatars.length;
                
                document.querySelector('#player-avatar i').className = `fas ${avatars[nextIndex]}`;
                showNotification('¬°Avatar cambiado! üë§', 'success');
            });
        }

        // Inicializar la aplicaci√≥n cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>