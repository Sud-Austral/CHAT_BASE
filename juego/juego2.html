<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrera Quest: La Misi칩n de las 10 Llaves</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Orbitron:wght@700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b9bd1;
            --accent-color: #f39c12;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
            --warning-color: #f1c40f;
            --purple: #9b59b6;
            --teal: #1abc9c;
            --red: #e74c3c;
            --blue: #3498db;
            --green: #2ecc71;
            --yellow: #f1c40f;
            --orange: #e67e22;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #2c3e50, #4a6fa5);
            color: var(--light-color);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            text-align: center;
            padding: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 15px rgba(74, 111, 165, 0.8);
            letter-spacing: 2px;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 10px rgba(74, 111, 165, 0.8), 0 0 20px rgba(74, 111, 165, 0.6);
            }
            to {
                text-shadow: 0 0 15px rgba(74, 111, 165, 1), 0 0 25px rgba(74, 111, 165, 0.8);
            }
        }

        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: rgba(255, 255, 255, 0.9);
            font-family: 'Comic Neue', cursive;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 2rem auto;
            padding: 2rem;
            max-width: 900px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .game-container h2 {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1.8rem;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .key-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .key-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .key-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .key-card:hover::before {
            opacity: 1;
        }

        .key-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-color);
        }

        .key-card.completed {
            border-color: var(--success-color);
            background: linear-gradient(145deg, rgba(46, 204, 113, 0.2), rgba(46, 204, 113, 0.1));
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(46, 204, 113, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(46, 204, 113, 0);
            }
        }

        .key-card i {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 5px rgba(74, 111, 165, 0.5));
        }

        .key-card h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .key-card .score {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .key-card.completed .score {
            opacity: 1;
            transform: scale(1);
        }

        .challenge-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .challenge-content {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            border-radius: 15px;
            padding: 2rem;
            max-width: 700px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: modalAppear 0.5s ease;
        }

        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--light-color);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(231, 76, 60, 0.3);
            color: var(--danger-color);
        }

        .challenge-content h2 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .timer {
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 1rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .question-container {
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .option:hover::before {
            left: 100%;
        }

        .option:hover {
            background: rgba(74, 111, 165, 0.2);
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(74, 111, 165, 0.3);
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(74, 111, 165, 0.5);
        }

        .option.correct {
            background: rgba(46, 204, 113, 0.3);
            border-color: var(--success-color);
            animation: correctAnswer 0.5s ease;
        }

        @keyframes correctAnswer {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .option.incorrect {
            background: rgba(231, 76, 60, 0.3);
            border-color: var(--danger-color);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% {
                transform: translateX(0);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: translateX(-5px);
            }
            20%, 40%, 60%, 80% {
                transform: translateX(5px);
            }
        }

        .option input[type="radio"] {
            margin-right: 0.8rem;
            opacity: 0;
            position: absolute;
        }

        .option .radio-custom {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--light-color);
            margin-right: 0.8rem;
            display: inline-block;
            position: relative;
            transition: all 0.3s ease;
        }

        .option.selected .radio-custom {
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(74, 111, 165, 0.5);
        }

        .option.selected .radio-custom::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary-color);
        }

        .btn {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            font-family: 'Comic Neue', cursive;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-submit {
            background: linear-gradient(45deg, var(--success-color), #27ae60);
        }

        .btn-submit:hover {
            background: linear-gradient(45deg, #27ae60, var(--success-color));
        }

        .results-container {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 2rem auto;
            padding: 2rem;
            max-width: 900px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results-container h2 {
            color: var(--accent-color);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .career-list {
            list-style: none;
        }

        .career-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .career-item:hover {
            transform: translateX(10px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .career-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--light-color);
            font-family: 'Comic Neue', cursive;
        }

        .career-score {
            background: linear-gradient(45deg, var(--accent-color), var(--warning-color));
            color: white;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .progress-container {
            margin: 2rem 0;
        }

        .progress-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 0 10px rgba(74, 111, 165, 0.5);
        }

        .social-container {
            margin-top: 2rem;
            text-align: center;
        }

        .social-container h3 {
            margin-bottom: 1rem;
            color: var(--accent-color);
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            font-family: 'Comic Neue', cursive;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .share-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .share-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .share-btn.twitter {
            background: linear-gradient(45deg, #1DA1F2, #0d8bd9);
        }

        .share-btn.facebook {
            background: linear-gradient(45deg, #4267B2, #365899);
        }

        .share-btn.whatsapp {
            background: linear-gradient(45deg, #25D366, #128C7E);
        }

        .team-compatibility {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .team-compatibility h4 {
            margin-bottom: 1rem;
            color: var(--accent-color);
            font-size: 1.3rem;
            font-family: 'Comic Neue', cursive;
        }

        .team-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            font-size: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            transition: all 0.3s ease;
            font-family: 'Comic Neue', cursive;
        }

        .team-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.3);
        }

        .team-results {
            margin-top: 1rem;
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--success-color), #27ae60);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1001;
            max-width: 300px;
            font-family: 'Comic Neue', cursive;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background: linear-gradient(45deg, var(--danger-color), #c0392b);
        }

        .notification.warning {
            background: linear-gradient(45deg, var(--warning-color), #d35400);
        }

        .footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--light-color);
            margin-top: 2rem;
            opacity: 0.7;
            font-family: 'Comic Neue', cursive;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            from {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            to {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }

        .key-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem;
            color: var(--accent-color);
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            animation: keyCollect 2s ease;
        }

        @keyframes keyCollect {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            position: absolute;
            animation: confetti-fall 3s linear forwards;
            z-index: 2000;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .fun-element {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            animation: funPop 0.5s ease;
            font-family: 'Comic Neue', cursive;
        }

        @keyframes funPop {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .fun-element h3 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .fun-element p {
            font-size: 1rem;
            line-height: 1.4;
        }

        .fun-element .emoji {
            font-size: 2rem;
            margin: 0.5rem 0;
        }

        .next-question-btn {
            margin-top: 1rem;
            background: linear-gradient(45deg, var(--purple), #8e44ad);
        }

        .next-question-btn:hover {
            background: linear-gradient(45deg, #8e44ad, var(--purple));
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .key-container {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .challenge-content {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>

    <header>
        <div class="container">
            <h1>Carrera Quest: La Misi칩n de las 10 Llaves</h1>
            <p>춰Descubre tu carrera ideal recolectando llaves m치gicas! 游</p>
        </div>
    </header>

    <main class="container">
        <div class="game-container" id="game-container">
            <h2>Recolecta las 10 Llaves Dimensionales</h2>
            <p>춰Selecciona cada llave para responder 2 preguntas y obtener tu puntuaci칩n!</p>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
                <p id="progress-text">Progreso: 0/10 llaves recolectadas</p>
            </div>
            
            <div class="key-container" id="key-container">
                <!-- Las llaves se generar치n din치micamente con JavaScript -->
            </div>
            
            <div class="text-center" id="complete-game-btn" style="display: none;">
                <button class="btn btn-submit" id="show-results">춰Ver mis carreras compatibles!</button>
            </div>
        </div>

        <div class="results-container" id="results-container">
            <h2>Tu Cofre del Tesoro: Las 5 Carreras que Mejor Usan Tus Llaves</h2>
            <ul class="career-list" id="career-list">
                <!-- Las carreras se generar치n din치micamente con JavaScript -->
            </ul>
            
            <div class="social-container">
                <h3>Comparte tus resultados</h3>
                <div class="share-buttons">
                    <button class="share-btn twitter" id="share-twitter"><i class="fab fa-twitter"></i></button>
                    <button class="share-btn facebook" id="share-facebook"><i class="fab fa-facebook-f"></i></button>
                    <button class="share-btn whatsapp" id="share-whatsapp"><i class="fab fa-whatsapp"></i></button>
                </div>
                
                <div class="team-compatibility">
                    <h4>Compara tus resultados con tus amigos</h4>
                    <p>Ingresa el c칩digo de resultado de tu amigo para ver vuestra compatibilidad en equipo</p>
                    <input type="text" class="team-input" id="friend-code" placeholder="C칩digo de resultado de tu amigo">
                    <button class="btn" id="compare-results">Comparar resultados</button>
                    
                    <div class="team-results" id="team-results">
                        <!-- Los resultados de comparaci칩n se mostrar치n aqu칤 -->
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button class="btn" id="restart-game">Jugar de nuevo</button>
            </div>
        </div>
    </main>

    <div class="challenge-modal" id="challenge-modal">
        <div class="challenge-content">
            <span class="close-btn" id="close-modal">&times;</span>
            <h2 id="challenge-title">Desaf칤o</h2>
            <div class="timer" id="timer">Tiempo restante: 02:00</div>
            <p>춰Responde estas 2 preguntas para obtener tu llave dimensional! 游</p>
            
            <div id="questions-container">
                <!-- Las preguntas se generar치n din치micamente -->
            </div>
            
            <button class="btn btn-submit" id="submit-challenge">Enviar respuestas</button>
        </div>
    </div>

    <div class="notification" id="notification">
        <!-- Las notificaciones se mostrar치n aqu칤 -->
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 Carrera Quest - Todos los derechos reservados</p>
        </div>
    </footer>

    <script>
        // Matriz de profesiones (sin cambios)
        const professionsMatrix = {
            "Agronom칤a": [8, 3, 6, 6, 4, 5, 7, 7, 4, 6],
            "Arqueolog칤a": [7, 4, 5, 5, 3, 5, 7, 7, 5, 7],
            "Astronom칤a": [10, 3, 8, 4, 10, 4, 9, 9, 3, 6],
            "Bioingenier칤a": [9, 4, 9, 6, 7, 6, 9, 8, 4, 7],
            "Biolog칤a": [8, 4, 6, 6, 7, 4, 8, 8, 3, 7],
            "Bioqu칤mica": [9, 3, 7, 6, 7, 4, 8, 9, 2, 6],
            "Estad칤stica": [9, 3, 7, 6, 9, 4, 8, 9, 2, 6],
            "F칤sica": [10, 3, 7, 3, 9, 4, 9, 9, 4, 6],
            "Geof칤sica": [9, 3, 7, 5, 5, 5, 8, 8, 2, 6],
            "Ingenier칤a Ac칰stica": [8, 3, 7, 6, 6, 5, 7, 8, 5, 5],
            "Ingenier칤a en Acuicultura": [7, 4, 6, 6, 3, 5, 7, 7, 3, 7],
            "Ingenier칤a en Alimentos": [8, 5, 7, 6, 5, 5, 8, 9, 3, 7],
            "Ingenier칤a en Bioinform치tica": [9, 3, 9, 6, 9, 4, 9, 9, 2, 6],
            "Ingenier칤a en Biomasa": [8, 3, 8, 6, 5, 5, 8, 8, 3, 7],
            "Ingenier칤a en Biom칠dica": [9, 5, 9, 6, 7, 6, 9, 8, 5, 8],
            "Ingenier칤a en Biorremediaci칩n": [8, 4, 8, 6, 5, 5, 8, 8, 3, 9],
            "Ingenier칤a en Cer치mica": [7, 3, 6, 6, 4, 5, 7, 8, 5, 5],
            "Ingenier칤a en Ciencia de los Materiales": [9, 3, 8, 6, 7, 5, 8, 8, 3, 6],
            "Ingenier칤a en Conservaci칩n de la Biodiversidad": [8, 5, 7, 6, 3, 6, 8, 7, 3, 9],
            "Ingenier칤a en Energ칤a E칩lica": [8, 4, 8, 5, 5, 6, 8, 7, 3, 7],
            "Ingenier칤a en Energ칤a Solar": [8, 4, 8, 5, 5, 6, 8, 7, 3, 7],
            "Ingenier칤a en Energ칤as No Convencionales": [8, 4, 9, 6, 6, 6, 9, 7, 4, 7],
            "Ingenier칤a en Explotaci칩n de Minas": [8, 3, 6, 8, 3, 7, 7, 8, 2, 6],
            "Ingenier칤a en Gen칩mica": [9, 3, 9, 6, 7, 5, 9, 8, 2, 7],
            "Ingenier칤a en Geotermia": [8, 3, 8, 7, 5, 6, 8, 7, 2, 7],
            "Ingenier칤a en Gesti칩n de Desastres": [8, 6, 7, 8, 4, 8, 8, 8, 3, 9],
            "Ingenier칤a en Higiene y Seguridad Ocupacional": [8, 6, 6, 7, 3, 7, 7, 8, 2, 8],
            "Ingenier칤a en Materiales": [9, 3, 8, 6, 7, 5, 8, 8, 3, 6],
            "Ingenier칤a en Medio Ambiente": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier칤a en Metalurgia": [8, 3, 6, 5, 4, 5, 7, 9, 2, 5],
            "Ingenier칤a en Metalurgia Extractiva": [8, 3, 6, 7, 4, 5, 7, 9, 2, 5],
            "Ingenier칤a en Minerales": [8, 3, 6, 7, 4, 5, 7, 9, 2, 5],
            "Ingenier칤a en Nanotecnolog칤a": [10, 3, 9, 6, 7, 5, 9, 8, 3, 6],
            "Ingenier칤a en Petr칩leo y Gas": [8, 3, 6, 8, 4, 7, 7, 8, 2, 4],
            "Ingenier칤a en Pl치sticos": [8, 3, 7, 6, 5, 5, 7, 8, 3, 5],
            "Ingenier칤a en Pol칤meros": [8, 3, 7, 6, 5, 5, 7, 9, 3, 6],
            "Ingenier칤a en Procesos Mineros": [8, 3, 6, 6, 4, 6, 7, 8, 2, 6],
            "Ingenier칤a en Procesos Qu칤micos": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier칤a en Protecci칩n Civil": [6, 6, 6, 7, 4, 8, 8, 8, 3, 9],
            "Ingenier칤a en Recursos H칤dricos": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier칤a en Recursos Naturales": [8, 5, 7, 6, 3, 6, 8, 7, 3, 8],
            "Ingenier칤a en Seguridad Industrial": [8, 6, 6, 7, 3, 7, 7, 8, 2, 8],
            "Ingenier칤a en Seguridad Minera": [8, 6, 6, 7, 3, 7, 7, 9, 2, 8],
            "Ingenier칤a en Tejidos": [8, 4, 6, 6, 5, 5, 7, 8, 5, 5],
            "Ingenier칤a Forestal": [8, 4, 6, 6, 3, 6, 7, 7, 3, 8],
            "Ingenier칤a Naval": [8, 4, 7, 6, 4, 6, 7, 9, 3, 5],
            "Matem치ticas": [10, 2, 7, 4, 9, 4, 8, 10, 2, 4],
            "Meteorolog칤a": [8, 4, 7, 5, 6, 5, 8, 8, 2, 7],
            "Oceanograf칤a": [8, 4, 7, 5, 4, 5, 8, 8, 3, 7],
            "Qu칤mica": [9, 3, 7, 6, 7, 4, 8, 8, 2, 6],
            "Administraci칩n P칰blica": [7, 7, 6, 5, 6, 7, 7, 6, 3, 8],
            "An치lisis de Datos Avanzado (Big Data)": [9, 3, 8, 6, 9, 4, 9, 8, 3, 6],
            "Antropolog칤a": [7, 7, 6, 5, 5, 5, 7, 7, 4, 8],
            "Arquitectura": [8, 6, 6, 6, 5, 6, 7, 7, 9, 6],
            "Contador Auditor": [8, 4, 6, 3, 7, 5, 7, 10, 2, 6],
            "Data Science": [9, 3, 9, 6, 9, 5, 9, 8, 3, 6],
            "Data Science y Machine Learning": [9, 3, 10, 6, 9, 5, 9, 8, 3, 6],
            "Derecho": [7, 7, 5, 4, 6, 7, 7, 8, 3, 9],
            "Dise침o": [5, 5, 6, 5, 5, 5, 7, 7, 9, 6],
            "Econom칤a": [9, 5, 7, 6, 9, 6, 8, 7, 3, 6],
            "Educaci칩n F칤sica": [6, 7, 5, 5, 1, 6, 6, 6, 4, 8],
            "Educaci칩n Parvularia": [5, 9, 5, 4, 3, 6, 6, 6, 6, 9],
            "Enfermer칤a": [7, 9, 6, 6, 2, 6, 7, 8, 2, 10],
            "Fonoaudiolog칤a": [6, 9, 5, 6, 3, 6, 6, 8, 3, 9],
            "Geolog칤a": [8, 4, 7, 6, 4, 6, 8, 7, 2, 6],
            "Ingenier칤a Aeron치utica": [9, 4, 7, 6, 6, 6, 8, 8, 3, 6],
            "Ingenier칤a Ambiental": [8, 5, 7, 6, 4, 6, 8, 8, 3, 8],
            "Ingenier칤a Civil El칠ctrica": [9, 4, 8, 6, 7, 6, 8, 9, 2, 6],
            "Ingenier칤a Civil en Computaci칩n": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier칤a Civil en Computaci칩n e Inform치tica": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier칤a Civil en Construcci칩n": [8, 4, 6, 6, 4, 6, 7, 8, 3, 6],
            "Ingenier칤a Civil en Energ칤a": [8, 4, 8, 5, 6, 6, 8, 7, 3, 7],
            "Ingenier칤a Civil en Geograf칤a": [8, 5, 6, 6, 4, 6, 7, 8, 3, 7],
            "Ingenier칤a Civil en Geomensura y Cartograf칤a": [8, 4, 6, 6, 5, 6, 7, 9, 2, 6],
            "Ingenier칤a Civil en Hidr치ulica": [8, 4, 7, 6, 4, 6, 8, 7, 3, 6],
            "Ingenier칤a Civil en Inform치tica": [9, 3, 9, 6, 9, 6, 9, 9, 3, 6],
            "Ingenier칤a Civil en Matem치ticas": [10, 2, 7, 4, 9, 4, 8, 10, 2, 4],
            "Ingenier칤a Civil en Minas": [8, 4, 6, 8, 3, 7, 7, 8, 2, 6],
            "Ingenier칤a Civil en Obras Civiles": [8, 4, 6, 6, 4, 6, 7, 8, 3, 6],
            "Ingenier칤a Civil en Qu칤mica": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier칤a Civil en Telecomunicaciones": [9, 4, 8, 6, 6, 6, 8, 9, 3, 6],
            "Ingenier칤a Civil Industrial": [8, 6, 6, 6, 6, 7, 8, 8, 3, 6],
            "Ingenier칤a Civil Mec치nica": [9, 4, 6, 6, 6, 6, 8, 9, 3, 5],
            "Ingenier칤a Civil Metal칰rgica": [8, 3, 6, 5, 4, 6, 7, 9, 2, 5],
            "Ingenier칤a Civil Qu칤mica": [9, 3, 7, 6, 6, 6, 8, 8, 2, 6],
            "Ingenier칤a Comercial": [8, 6, 7, 6, 7, 7, 8, 8, 3, 7],
            "Kinesiolog칤a": [6, 9, 6, 6, 2, 5, 7, 7, 4, 9],
            "Licenciatura en Antropolog칤a Digital": [6, 7, 8, 5, 6, 6, 8, 7, 6, 8],
            "Licenciatura en Arqueolog칤a": [7, 4, 5, 5, 3, 5, 7, 7, 5, 7],
            "Licenciatura en Arqueolog칤a Digital": [8, 5, 7, 5, 6, 5, 8, 7, 6, 8],
            "Licenciatura en Artes Esc칠nicas": [5, 7, 5, 5, 4, 5, 6, 6, 10, 6],
            "Licenciatura en Artes Pl치sticas": [6, 5, 5, 5, 4, 5, 6, 6, 10, 5],
            "Licenciatura en Astronom칤a": [10, 3, 8, 6, 10, 4, 9, 9, 3, 6],
            "Licenciatura en Biolog칤a": [8, 4, 6, 6, 7, 4, 8, 8, 3, 7],
            "Licenciatura en Estudios Internacionales": [7, 8, 7, 5, 6, 6, 7, 6, 4, 8],
            "Licenciatura en Filosof칤a": [5, 5, 5, 4, 10, 5, 7, 7, 5, 8],
            "Licenciatura en F칤sica": [10, 3, 7, 3, 9, 4, 9, 9, 4, 6],
            "Licenciatura en Geolog칤a": [8, 4, 7, 6, 4, 6, 8, 7, 2, 6],
            "Licenciatura en Historia": [7, 6, 5, 4, 9, 4, 7, 6, 4, 7],
            "Licenciatura en Historia Digital": [8, 6, 7, 5, 6, 6, 8, 6, 5, 7],
            "Licenciatura en Letras": [7, 6, 5, 4, 7, 4, 7, 6, 7, 6],
            "Licenciatura en Ling칲칤stica": [8, 5, 5, 4, 6, 4, 7, 7, 4, 7],
            "Licenciatura en Matem치ticas": [10, 2, 7, 4, 9, 3, 8, 10, 2, 4],
            "Licenciatura en M칰sica": [6, 6, 5, 5, 5, 4, 6, 6, 10, 6],
            "Licenciatura en Qu칤mica": [9, 3, 7, 6, 7, 5, 8, 8, 2, 6],
            "Licenciatura en Sociolog칤a Computacional": [8, 7, 8, 5, 9, 6, 8, 7, 5, 9],
            "Medicina": [9, 9, 7, 6, 4, 6, 8, 9, 5, 10],
            "Nutrici칩n y Diet칠tica": [7, 8, 6, 6, 3, 5, 7, 8, 3, 9],
            "Obstetricia y Puericultura": [7, 9, 6, 6, 2, 5, 6, 8, 3, 10],
            "Odontolog칤a": [8, 7, 6, 6, 4, 5, 7, 10, 5, 9],
            "Pedagog칤a en Artes Visuales": [6, 7, 5, 5, 5, 6, 6, 6, 9, 8],
            "Pedagog칤a en Ciencias Naturales": [7, 7, 6, 4, 5, 5, 7, 7, 4, 9],
            "Pedagog칤a en Cine": [5, 6, 7, 5, 5, 5, 7, 6, 8, 7],
            "Pedagog칤a en Danza": [5, 7, 6, 5, 4, 5, 6, 6, 10, 8],
            "Pedagog칤a en Educaci칩n B치sica": [5, 8, 6, 4, 4, 6, 7, 7, 5, 9],
            "Pedagog칤a en Educaci칩n Diferencial": [6, 9, 6, 4, 6, 6, 6, 7, 6, 10],
            "Pedagog칤a en Educaci칩n F칤sica Digital": [7, 8, 7, 5, 4, 6, 8, 6, 6, 8],
            "Pedagog칤a en Educaci칩n Musical": [6, 7, 6, 5, 5, 5, 7, 7, 9, 8],
            "Pedagog칤a en Educaci칩n T칠cnico Profesional": [7, 8, 6, 5, 4, 7, 7, 7, 5, 8],
            "Pedagog칤a en Filosof칤a": [5, 7, 5, 4, 6, 5, 7, 7, 5, 8],
            "Pedagog칤a en Historia y Ciencias Sociales": [7, 7, 6, 4, 6, 5, 7, 6, 5, 9],
            "Pedagog칤a en Ingl칠s": [7, 7, 6, 4, 6, 5, 7, 6, 5, 8],
            "Pedagog칤a en Lengua Castellana y Literatura": [7, 7, 6, 4, 9, 5, 7, 6, 6, 8],
            "Pedagog칤a en Matem치ticas Computacionales": [8, 6, 7, 3, 7, 6, 8, 7, 4, 8],
            "Pedagog칤a en Matem치ticas y Computaci칩n": [8, 6, 7, 3, 7, 6, 8, 7, 4, 8],
            "Pedagog칤a en Religi칩n": [5, 8, 6, 4, 8, 5, 6, 6, 4, 9],
            "Pedagog칤a en Teatro": [5, 7, 5, 5, 4, 5, 6, 6, 10, 8],
            "Periodismo": [7, 8, 6, 5, 6, 6, 7, 7, 6, 8],
            "Psicolog칤a": [7, 9, 6, 4, 6, 6, 7, 8, 4, 10],
            "Qu칤mica y Farmacia": [9, 6, 7, 6, 6, 5, 8, 10, 2, 8],
            "Sociolog칤a": [6, 8, 6, 5, 7, 6, 7, 6, 4, 9],
            "Terapia Ocupacional": [6, 9, 6, 6, 3, 5, 6, 8, 5, 9],
            "Trabajo Social": [6, 9, 6, 4, 6, 6, 7, 7, 4, 10],
            "Veterinaria": [8, 7, 6, 6, 3, 5, 7, 8, 3, 8]
        };

        // Banco de preguntas para cada dimensi칩n (ahora con m치s preguntas para seleccionar 2 al azar)
        const questionsBank = [
            // Dimensi칩n 0: Aptitud T칠cnica y Anal칤tica
            [
                {
                    question: "쮺u치l es el resultado de 15 + 23 칑 4 - 18 칭 3?",
                    options: ["311", "321", "301", "291"],
                    correctAnswer: 0
                },
                {
                    question: "Si un algoritmo tiene una complejidad O(n), 쯤u칠 significa esto?",
                    options: [
                        "El tiempo de ejecuci칩n es constante",
                        "El tiempo de ejecuci칩n crece linealmente con el tama침o de entrada",
                        "El tiempo de ejecuci칩n crece cuadr치ticamente con el tama침o de entrada",
                        "El tiempo de ejecuci칩n es logar칤tmico"
                    ],
                    correctAnswer: 2
                },
                {
                    question: "쮺u치l es la derivada de f(x) = 3x + 5x - 2?",
                    options: ["6x + 5", "6x - 5", "3x + 5", "3x + 5"],
                    correctAnswer: 0
                },
                {
                    question: "En una base de datos relacional, 쯤u칠 es una clave primaria?",
                    options: [
                        "Un 칤ndice para acelerar consultas",
                        "Un campo que identifica 칰nicamente cada registro",
                        "Una tabla que contiene datos de referencia",
                        "Un tipo de dato especial"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺u치l es el valor binario del n칰mero decimal 25?",
                    options: ["11001", "10101", "11101", "10011"],
                    correctAnswer: 0
                }
            ],
            // Dimensi칩n 1: Requerimiento Interpersonal y Empat칤a
            [
                {
                    question: "Si un compa침ero de equipo est치 frustrado porque su idea fue rechazada, 쯖u치l es la mejor respuesta?",
                    options: [
                        "Deber칤as aceptar la decisi칩n y seguir adelante.",
                        "Entiendo tu frustraci칩n. 쯊e gustar칤a que analicemos juntos por qu칠 fue rechazada?",
                        "No te preocupes, tu idea no era tan buena.",
                        "La decisi칩n ya est치 tomada, no hay nada que hacer."
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo manejar칤as una situaci칩n donde dos miembros de tu equipo tienen un conflicto?",
                    options: [
                        "Ignorar el conflicto y esperar que se resuelva solo",
                        "Hablar con cada uno por separado y luego organizar una reuni칩n conjunta",
                        "Decidir qui칠n tiene la raz칩n y apoyar a esa persona",
                        "Evitar trabajar con ambos hasta que se resuelva el conflicto"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Un cliente est치 muy molesto por un retraso en la entrega. 쮺u치l ser칤a tu enfoque?",
                    options: [
                        "Explicar que el retraso no es culpa tuya",
                        "Escuchar sus preocupaciones, disculparte y ofrecer una soluci칩n concreta",
                        "Prometer una entrega inmediata aunque no sea realista",
                        "Transferir la llamada a tu supervisor"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo apoyar칤as a un colega que est치 pasando por un momento dif칤cil personalmente?",
                    options: [
                        "Evitar mencionar el tema para no incomodarle",
                        "Ofrecer tu ayuda de manera discreta y respetuosa",
                        "Contar a todos sobre su situaci칩n para que puedan ayudar",
                        "Sugerir que tome vacaciones"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "En una negociaci칩n, 쯤u칠 habilidad interpersonal es m치s importante?",
                    options: [
                        "Hablar m치s que el otro para convencerle",
                        "Escuchar activamente para entender las necesidades del otro",
                        "Mantener una postura r칤gida en tus posiciones",
                        "Interrumpir para aclarar tus puntos r치pidamente"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 2: Capacidad de Innovaci칩n y Adaptaci칩n a IA
            [
                {
                    question: "쯈u칠 es el aprendizaje autom치tico (Machine Learning)?",
                    options: [
                        "Un tipo de programaci칩n tradicional",
                        "La capacidad de un sistema para aprender y mejorar a partir de datos sin ser programado expl칤citamente",
                        "Un lenguaje de programaci칩n espec칤fico para IA",
                        "Un hardware especializado para procesamiento de datos"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺u치l es un ejemplo de innovaci칩n disruptiva en IA?",
                    options: [
                        "Mejorar un producto existente",
                        "Crear un producto que reemplaza completamente a uno anterior",
                        "Reducir costos de producci칩n",
                        "Aumentar la eficiencia de procesos existentes"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo deber칤a una empresa adaptarse a los cambios tecnol칩gicos r치pidos?",
                    options: [
                        "Mantener sus procesos actuales hasta que sea absolutamente necesario cambiar",
                        "Fomentar una cultura de aprendizaje continuo y experimentaci칩n",
                        "Contratar solo especialistas en tecnolog칤a",
                        "Delegar toda la adaptaci칩n tecnol칩gica al departamento de TI"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 es la 'transformaci칩n digital'?",
                    options: [
                        "Cambiar todos los documentos f칤sicos a digitales",
                        "Integrar tecnolog칤a digital en todas las 치reas de un negocio",
                        "Usar redes sociales para marketing",
                        "Implementar un sistema de contabilidad digital"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺u치l es un desaf칤o 칠tico com칰n en el desarrollo de IA?",
                    options: [
                        "La velocidad de procesamiento",
                        "El sesgo algor칤tmico y la privacidad de datos",
                        "El consumo de energ칤a",
                        "La compatibilidad con sistemas antiguos"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 3: Tolerancia al Riesgo y Estabilidad Laboral
            [
                {
                    question: "Al evaluar una oportunidad profesional, 쯤u칠 factor es m치s importante para ti?",
                    options: [
                        "Salario inicial alto",
                        "Oportunidades de crecimiento y aprendizaje",
                        "Estabilidad laboral a largo plazo",
                        "Ubicaci칩n conveniente"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo abordar칤as un proyecto con alto potencial pero tambi칠n alto riesgo de fracaso?",
                    options: [
                        "Rechazarlo inmediatamente por el riesgo",
                        "Analizar cuidadosamente los riesgos y beneficios antes de decidir",
                        "Aceptarlo sin considerar los riesgos",
                        "Delegarlo a otra persona"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "En tu carrera, 쯤u칠 prefieres?",
                    options: [
                        "Un trabajo estable con pocas novedades",
                        "Un trabajo din치mico con cambios frecuentes",
                        "Trabajar por cuenta propia con ingresos variables",
                        "Un trabajo temporal con alta remuneraci칩n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 significa para ti la 'seguridad laboral'?",
                    options: [
                        "Tener un contrato indefinido",
                        "Poseer habilidades demandadas en el mercado",
                        "Trabajar en una empresa grande",
                        "Tener un sindicato fuerte"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Ante un cambio tecnol칩gico que podr칤a automatizar parte de tu trabajo, 쯖u치l ser칤a tu reacci칩n?",
                    options: [
                        "Resistirte al cambio",
                        "Aprender a usar la nueva tecnolog칤a para mejorar tu trabajo",
                        "Buscar otro trabajo en un campo menos afectado",
                        "Ignorar el cambio hasta que sea obligatorio"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 4: Preferencia por el Entorno (F칤sico vs. Conceptual)
            [
                {
                    question: "쯈u칠 tipo de entorno te resulta m치s atractivo para trabajar?",
                    options: [
                        "Una oficina con vistas a la naturaleza",
                        "Un laboratorio o taller con equipos especializados",
                        "Un espacio digital o virtual",
                        "Un caf칠 o espacio compartido"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Al resolver un problema complejo, 쯤u칠 prefieres?",
                    options: [
                        "Construir un prototipo f칤sico",
                        "Crear un modelo conceptual o diagrama",
                        "Escribir c칩digo o algoritmos",
                        "Discutir verbalmente con un equipo"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 actividad te resulta m치s satisfactoria?",
                    options: [
                        "Construir algo con tus manos",
                        "Analizar datos y encontrar patrones",
                        "Dise침ar sistemas o estructuras",
                        "Planificar estrategias"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 tipo de proyectos te interesan m치s?",
                    options: [
                        "Proyectos de construcci칩n o infraestructura",
                        "Proyectos de investigaci칩n cient칤fica",
                        "Proyectos de desarrollo de software",
                        "Proyectos de gesti칩n o consultor칤a"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo prefieres aprender algo nuevo?",
                    options: [
                        "Haciendo experimentos pr치cticos",
                        "Leyendo teor칤a y conceptos",
                        "Programando o simulando",
                        "Discutiendo con expertos"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 5: Capacidad de Liderazgo y Gesti칩n de Equipos
            [
                {
                    question: "쯈u칠 cualidad es m치s importante en un l칤der?",
                    options: [
                        "Tomar decisiones r치pidamente",
                        "Escuchar y considerar diferentes perspectivas",
                        "Tener conocimientos t칠cnicos profundos",
                        "Ser estricto en el cumplimiento de normas"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo motivar칤as a un equipo que est치 perdiendo inter칠s en un proyecto?",
                    options: [
                        "Aumentar la presi칩n y las horas de trabajo",
                        "Reconocer logros, conectar el trabajo con un prop칩sito mayor y ofrecer apoyo",
                        "Cambiar completamente el proyecto",
                        "Reemplazar a los miembros menos motivados"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 har칤as si un miembro de tu equipo no est치 cumpliendo con sus responsabilidades?",
                    options: [
                        "Ignorar el problema y esperar que se solucione solo",
                        "Hablar con la persona para entender las razones y buscar soluciones juntos",
                        "Asignar sus tareas a otros miembros",
                        "Reportarlo inmediatamente a recursos humanos"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo manejas las diferencias de opini칩n dentro de tu equipo?",
                    options: [
                        "Tomas la decisi칩n final sin considerar otras opiniones",
                        "Fomentas un debate constructivo y buscas consenso",
                        "Evitas discusiones para mantener la armon칤a",
                        "Delegas la decisi칩n a un superior"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 es m치s importante al establecer metas para tu equipo?",
                    options: [
                        "Que sean muy ambiciosas",
                        "Que sean realistas, medibles y alineadas con objetivos m치s amplios",
                        "Que sean f치ciles de alcanzar para mantener la moral alta",
                        "Que sean las mismas para todos los miembros"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 6: Necesidad de Aprendizaje Continuo y Reciclaje
            [
                {
                    question: "쮺on qu칠 frecuencia buscas aprender nuevas habilidades relacionadas con tu trabajo?",
                    options: [
                        "Raramente, solo cuando es necesario",
                        "Regularmente, como parte de mi rutina",
                        "Constantemente, siempre estoy buscando algo nuevo que aprender",
                        "Solo cuando mi empresa ofrece formaci칩n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo reaccionas cuando aparece una nueva tecnolog칤a que podr칤a cambiar tu campo?",
                    options: [
                        "Me resisto al cambio",
                        "Me entusiasmo y busco aprender sobre ella lo antes posible",
                        "Espero a que sea ampliamente adoptada antes de aprenderla",
                        "Dejo que otros la aprendan y luego les pregunto"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 prefieres en un entorno de trabajo?",
                    options: [
                        "Tareas rutinarias y predecibles",
                        "Desaf칤os constantes que requieran aprender nuevas habilidades",
                        "Un equilibrio entre tareas conocidas y nuevos desaf칤os",
                        "Trabajar solo en lo que ya domino"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo mantienes tus conocimientos actualizados?",
                    options: [
                        "Conf칤o en lo que aprend칤 en mis estudios",
                        "Leo art칤culos, asisto a conferencias y tomo cursos regularmente",
                        "Aprendo solo cuando surge una necesidad espec칤fica",
                        "Espero que mi empresa me proporcione formaci칩n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 significa para ti el 'desarrollo profesional'?",
                    options: [
                        "Ascender en la jerarqu칤a de la empresa",
                        "Adquirir constantemente nuevas habilidades y conocimientos",
                        "Aumentar tu salario",
                        "Obtener m치s responsabilidades"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 7: Orientaci칩n al Detalle y Precisi칩n
            [
                {
                    question: "Al revisar un documento, 쯤u칠 es lo primero que notas?",
                    options: [
                        "El contenido general y las ideas principales",
                        "Los errores gramaticales y de formato",
                        "La estructura y organizaci칩n",
                        "La longitud y complejidad"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo abordar칤as una tarea que requiere alta precisi칩n?",
                    options: [
                        "La hago r치pidamente y luego reviso brevemente",
                        "La hago con cuidado, verificando cada paso",
                        "Pido a alguien que la revise despu칠s",
                        "Uso herramientas autom치ticas para verificar"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Encuentra los 5 errores en este texto: 'La ciencia y la tecnologia avansan rapidamente. Los profesionales deben mantenerse actualizados para no quedarse atras. El aprendisaje continuo es esencial para el desarrrollo profesional.'",
                    options: [
                        "avansan, tecnologia, rapidamente, atras, aprendisaje",
                        "tecnologia, avansan, atras, aprendisaje, desarrrollo",
                        "avansan, tecnologia, rapidamente, atras, desarrrollo",
                        "tecnologia, avansan, rapidamente, aprendisaje, desarrrollo"
                    ],
                    correctAnswer: 0
                },
                {
                    question: "쯈u칠 te resulta m치s frustrante?",
                    options: [
                        "Trabajar en proyectos ambiguos",
                        "Cometer errores por falta de atenci칩n",
                        "Tener que repetir tareas",
                        "Trabajar con plazos muy ajustados"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo prefieres organizar tu trabajo?",
                    options: [
                        "De manera flexible, adapt치ndome seg칰n sea necesario",
                        "Con listas detalladas y sistemas organizados",
                        "Bas치ndome en la intuici칩n y la experiencia",
                        "Dejando que las circunstancias gu칤en mi trabajo"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 8: Creatividad y Expresi칩n Art칤stica
            [
                {
                    question: "쯈u칠 actividad te resulta m치s atractiva?",
                    options: [
                        "Analizar datos y encontrar patrones",
                        "Dise침ar soluciones innovadoras a problemas",
                        "Organizar y planificar proyectos",
                        "Investigar y recopilar informaci칩n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo describir칤as tu proceso de resoluci칩n de problemas?",
                    options: [
                        "Sigo m칠todos establecidos y probados",
                        "Combino enfoques conocidos con ideas nuevas",
                        "Busco soluciones completamente originales",
                        "Dependo de la experiencia de otros"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 te inspira m치s?",
                    options: [
                        "La l칩gica y la raz칩n",
                        "La naturaleza y el arte",
                        "La tecnolog칤a y la innovaci칩n",
                        "Las personas y las relaciones"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Si tuvieras que crear algo nuevo, 쯤u칠 preferir칤as?",
                    options: [
                        "Un sistema eficiente",
                        "Una obra de arte",
                        "Un producto 칰til",
                        "Una teor칤a innovadora"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo te sientes acerca de las reglas y convenciones?",
                    options: [
                        "Son esenciales y deben seguirse",
                        "Son puntos de partida que pueden romperse",
                        "Son limitaciones que evitan la creatividad",
                        "Depende de la situaci칩n"
                    ],
                    correctAnswer: 1
                }
            ],
            // Dimensi칩n 9: Impacto Social y 칄tica (Motivaci칩n de Servicio)
            [
                {
                    question: "쯈u칠 te motiva m치s en tu trabajo?",
                    options: [
                        "El reconocimiento y el 칠xito profesional",
                        "La oportunidad de marcar una diferencia positiva",
                        "El desaf칤o intelectual",
                        "La estabilidad econ칩mica"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 tipo de proyecto te interesar칤a m치s?",
                    options: [
                        "Un proyecto con alto potencial de lucro",
                        "Un proyecto que resuelva un problema social",
                        "Un proyecto t칠cnicamente innovador",
                        "Un proyecto con buen equilibrio vida-trabajo"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쮺칩mo definir칤as el '칠xito'?",
                    options: [
                        "Alcanzar una posici칩n alta y reconocimiento",
                        "Tener un impacto positivo en la vida de otros",
                        "Lograr tus metas personales",
                        "Tener seguridad financiera"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "쯈u칠 valor es m치s importante para ti en una organizaci칩n?",
                    options: [
                        "Eficiencia y productividad",
                        "Responsabilidad social y 칠tica",
                        "Innovaci칩n y creatividad",
                        "Estabilidad y tradici칩n"
                    ],
                    correctAnswer: 1
                },
                {
                    question: "Si tuvieras recursos para iniciar un proyecto, 쯤u칠 tipo elegir칤as?",
                    options: [
                        "Un negocio con alto potencial de ganancias",
                        "Una iniciativa para ayudar a una comunidad vulnerable",
                        "Una investigaci칩n cient칤fica de vanguardia",
                        "Un proyecto cultural o art칤stico"
                    ],
                    correctAnswer: 1
                }
            ]
        ];

        // Elementos divertidos por dimensi칩n
        const funElements = [
            // Dimensi칩n 0: Aptitud T칠cnica y Anal칤tica
            [
                {
                    title: "쯉ab칤as que...?",
                    content: "El primer programador de la historia fue una mujer. Ada Lovelace escribi칩 el primer algoritmo en 1843. 춰Girl power! 游눹游놀꽳눹",
                    emoji: "游뱁"
                },
                {
                    title: "Chiste de nerds",
                    content: "쯇or qu칠 los programadores confunden Halloween con Navidad? Porque Oct 31 = Dec 25. 춰Ja! 游땍",
                    emoji: "游꾺游꾻"
                }
            ],
            // Dimensi칩n 1: Requerimiento Interpersonal y Empat칤a
            [
                {
                    title: "Curiosidad",
                    content: "Sonre칤r, incluso si no te sientes feliz, puede mejorar tu estado de 치nimo. 춰Es ciencia! 游땕",
                    emoji: "游"
                },
                {
                    title: "Superpoder",
                    content: "La empat칤a es como un superpoder: te permite entender a los dem치s sin necesidad de palabras m치gicas. 九",
                    emoji: "游붲꽥勇"
                }
            ],
            // Dimensi칩n 2: Capacidad de Innovaci칩n y Adaptaci칩n a IA
            [
                {
                    title: "Dato curioso",
                    content: "La IA ya puede crear arte, m칰sica y hasta escribir historias. 쯈u칠 ser치 lo siguiente? 游뱄游꿛",
                    emoji: "游"
                },
                {
                    title: "Reflexi칩n",
                    content: "La innovaci칩n no es tener ideas nuevas, sino dejar de tener ideas viejas. 游눠",
                    emoji: "游"
                }
            ],
            // Dimensi칩n 3: Tolerancia al Riesgo y Estabilidad Laboral
            [
                {
                    title: "Dato interesante",
                    content: "Las personas que toman riesgos calculados tienen m치s probabilidades de alcanzar el 칠xito. 춰Atr칠vete! 游꿢",
                    emoji: "游"
                },
                {
                    title: "Consejo",
                    content: "El mayor riesgo en la vida es no tomar ning칰n riesgo. 춰Sal de tu zona de confort! 游깯",
                    emoji: "游끣꽥뗵勇"
                }
            ],
            // Dimensi칩n 4: Preferencia por el Entorno (F칤sico vs. Conceptual)
            [
                {
                    title: "Curiosidad",
                    content: "Tu cerebro procesa mejor la informaci칩n cuando est치s en un entorno que te gusta. 춰Busca tu espacio ideal! 游",
                    emoji: "游륊잺"
                },
                {
                    title: "Dato divertido",
                    content: "Einstein desarroll칩 la teor칤a de la relatividad mientras trabajaba en una oficina de patentes. 춰La inspiraci칩n llega en cualquier lugar! 游깳",
                    emoji: "游빌"
                }
            ],
            // Dimensi칩n 5: Capacidad de Liderazgo y Gesti칩n de Equipos
            [
                {
                    title: "Sabidur칤a",
                    content: "Un buen l칤der no crea seguidores, crea m치s l칤deres. 춰Multiplica el talento! 游논",
                    emoji: "游녬"
                },
                {
                    title: "Consejo",
                    content: "La diferencia entre un jefe y un l칤der: un jefe dice 've', un l칤der dice 'vamos'. 춰Gu칤a con el ejemplo! 游뛌꽥뗵勇",
                    emoji: "游"
                }
            ],
            // Dimensi칩n 6: Necesidad de Aprendizaje Continuo y Reciclaje
            [
                {
                    title: "Dato inspirador",
                    content: "El cerebro humano puede seguir aprendiendo y cambiando hasta los 90 a침os. 춰Nunca es tarde! 游먹랻",
                    emoji: "游닄"
                },
                {
                    title: "Reflexi칩n",
                    content: "El aprendizaje es como el ejercicio: cuanto m치s haces, m치s fuerte te vuelves. 춰Entrena tu mente! 游눩",
                    emoji: "游끪勇꽥勇"
                }
            ],
            // Dimensi칩n 7: Orientaci칩n al Detalle y Precisi칩n
            [
                {
                    title: "Dato curioso",
                    content: "Los detalles marcan la diferencia entre lo bueno y lo excelente. 춰La perfecci칩n est치 en los peque침os detalles! 游댌",
                    emoji: "游꿢"
                },
                {
                    title: "Consejo",
                    content: "En un mundo lleno de distracciones, la atenci칩n al detalle es una superpotencia. 춰Usa tu poder! 丘",
                    emoji: "游붲꽥뗵勇"
                }
            ],
            // Dimensi칩n 8: Creatividad y Expresi칩n Art칤stica
            [
                {
                    title: "Inspiraci칩n",
                    content: "La creatividad es inteligencia divirti칠ndose. 춰Deja volar tu imaginaci칩n! 游꿛九",
                    emoji: "游깯"
                },
                {
                    title: "Dato divertido",
                    content: "Einstein dijo: 'La creatividad es m치s importante que el conocimiento'. 춰Y mira a d칩nde lleg칩! 游",
                    emoji: "游눠"
                }
            ],
            // Dimensi칩n 9: Impacto Social y 칄tica (Motivaci칩n de Servicio)
            [
                {
                    title: "Reflexi칩n",
                    content: "El verdadero 칠xito no es cu치nto tienes, sino cu치nto das. 춰Haz del mundo un lugar mejor! 游깴仇벒잺",
                    emoji: "游뱋"
                },
                {
                    title: "Consejo",
                    content: "No necesitas ser grande para empezar, pero necesitas empezar para ser grande. 춰Cada peque침o gesto cuenta! 游꺔",
                    emoji: "游"
                }
            ]
        ];

        // Dimensiones con colores asociados
        const dimensions = [
            { id: 0, name: "Aptitud T칠cnica y Anal칤tica", icon: "fa-calculator", color: "#3498db" },
            { id: 1, name: "Requerimiento Interpersonal y Empat칤a", icon: "fa-users", color: "#e74c3c" },
            { id: 2, name: "Capacidad de Innovaci칩n y Adaptaci칩n a IA", icon: "fa-robot", color: "#9b59b6" },
            { id: 3, name: "Tolerancia al Riesgo y Estabilidad Laboral", icon: "fa-chart-line", color: "#f39c12" },
            { id: 4, name: "Preferencia por el Entorno (F칤sico vs. Conceptual)", icon: "fa-mountain", color: "#1abc9c" },
            { id: 5, name: "Capacidad de Liderazgo y Gesti칩n de Equipos", icon: "fa-user-tie", color: "#34495e" },
            { id: 6, name: "Necesidad de Aprendizaje Continuo y Reciclaje", icon: "fa-book", color: "#2ecc71" },
            { id: 7, name: "Orientaci칩n al Detalle y Precisi칩n", icon: "fa-search", color: "#16a085" },
            { id: 8, name: "Creatividad y Expresi칩n Art칤stica", icon: "fa-palette", color: "#e67e22" },
            { id: 9, name: "Impacto Social y 칄tica (Motivaci칩n de Servicio)", icon: "fa-hands-helping", color: "#d35400" }
        ];

        // Estado del juego
        let gameState = {
            completedChallenges: [],
            scores: new Array(10).fill(0),
            currentChallenge: null,
            timer: null,
            timeLeft: 120, // 2 minutos para 2 preguntas
            currentQuestions: [],
            currentAnswers: [],
            showingFeedback: false,
            currentQuestionIndex: 0,
            showingFunElement: false
        };

        // Inicializar el juego
        function initGame() {
            createParticles();
            renderKeys();
            setupEventListeners();
        }

        // Crear part칤culas flotantes
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Tama침o aleatorio
                const size = Math.random() * 5 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Posici칩n inicial aleatoria
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Opacidad aleatoria
                particle.style.opacity = Math.random() * 0.5 + 0.1;
                
                // Duraci칩n de la animaci칩n aleatoria
                const duration = Math.random() * 20 + 10;
                particle.style.animationDuration = `${duration}s`;
                
                // Retardo aleatorio
                const delay = Math.random() * 5;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // Renderizar las llaves
        function renderKeys() {
            const keyContainer = document.getElementById('key-container');
            keyContainer.innerHTML = '';
            
            dimensions.forEach(dimension => {
                const keyCard = document.createElement('div');
                keyCard.className = 'key-card';
                keyCard.dataset.id = dimension.id;
                
                if (gameState.completedChallenges.includes(dimension.id)) {
                    keyCard.classList.add('completed');
                }
                
                keyCard.innerHTML = `
                    <i class="fas ${dimension.icon}" style="color: ${dimension.color}"></i>
                    <h3>${dimension.name}</h3>
                    <div class="score">${gameState.scores[dimension.id]}</div>
                `;
                
                keyCard.addEventListener('click', () => openChallenge(dimension.id));
                keyContainer.appendChild(keyCard);
            });
            
            updateProgress();
        }

        // Actualizar el progreso
        function updateProgress() {
            const progress = (gameState.completedChallenges.length / 10) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `Progreso: ${gameState.completedChallenges.length}/10 llaves recolectadas`;
            
            if (gameState.completedChallenges.length === 10) {
                document.getElementById('complete-game-btn').style.display = 'block';
                createConfetti();
            }
        }

        // Crear confeti al completar el juego
        function createConfetti() {
            const colors = ['#f39c12', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `-10px`;
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    
                    document.body.appendChild(confetti);
                    
                    // Eliminar el confeti despu칠s de la animaci칩n
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 30);
            }
        }

        // Abrir un desaf칤o
        function openChallenge(dimensionId) {
            if (gameState.completedChallenges.includes(dimensionId)) {
                showNotification('춰Ya completaste este desaf칤o! Prueba con otra llave.', 'warning');
                return;
            }
            
            const dimension = dimensions[dimensionId];
            gameState.currentChallenge = dimensionId;
            gameState.timeLeft = 120; // 2 minutos
            gameState.currentQuestionIndex = 0;
            gameState.showingFeedback = false;
            gameState.showingFunElement = false;
            
            // Seleccionar 2 preguntas al azar
            const allQuestions = [...questionsBank[dimensionId]];
            gameState.currentQuestions = [];
            
            for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * allQuestions.length);
                gameState.currentQuestions.push(allQuestions[randomIndex]);
                allQuestions.splice(randomIndex, 1);
            }
            
            gameState.currentAnswers = new Array(2).fill(null);
            
            document.getElementById('challenge-title').textContent = dimension.name;
            document.getElementById('challenge-title').style.color = dimension.color;
            document.getElementById('challenge-modal').style.display = 'flex';
            
            renderCurrentQuestion();
            startTimer();
        }

        // Renderizar la pregunta actual
        function renderCurrentQuestion() {
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = '';
            
            if (gameState.showingFunElement) {
                // Mostrar elemento divertido
                const funElementIndex = Math.floor(Math.random() * funElements[gameState.currentChallenge].length);
                const funElement = funElements[gameState.currentChallenge][funElementIndex];
                
                const funDiv = document.createElement('div');
                funDiv.className = 'fun-element';
                funDiv.innerHTML = `
                    <h3>${funElement.title}</h3>
                    <div class="emoji">${funElement.emoji}</div>
                    <p>${funElement.content}</p>
                    <button class="btn next-question-btn" id="next-question-btn">Siguiente pregunta </button>
                `;
                
                questionsContainer.appendChild(funDiv);
                
                document.getElementById('next-question-btn').addEventListener('click', () => {
                    gameState.showingFunElement = false;
                    gameState.currentQuestionIndex++;
                    
                    if (gameState.currentQuestionIndex < 2) {
                        renderCurrentQuestion();
                    } else {
                        // Todas las preguntas respondidas, mostrar bot칩n de enviar
                        renderSubmitButton();
                    }
                });
            } else {
                // Mostrar pregunta actual
                const question = gameState.currentQuestions[gameState.currentQuestionIndex];
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                
                const optionsHtml = question.options.map((option, optionIndex) => `
                    <div class="option" data-question="${gameState.currentQuestionIndex}" data-option="${optionIndex}">
                        <input type="radio" id="q${gameState.currentQuestionIndex}_opt${optionIndex}" name="question${gameState.currentQuestionIndex}" value="${optionIndex}">
                        <div class="radio-custom"></div>
                        <label for="q${gameState.currentQuestionIndex}_opt${optionIndex}">${option}</label>
                    </div>
                `).join('');
                
                questionDiv.innerHTML = `
                    <div class="question">Pregunta ${gameState.currentQuestionIndex + 1}/2: ${question.question}</div>
                    <div class="options">${optionsHtml}</div>
                `;
                
                questionsContainer.appendChild(questionDiv);
                
                // Agregar event listeners a las opciones
                document.querySelectorAll('.option').forEach(option => {
                    option.addEventListener('click', function() {
                        if (gameState.showingFeedback) return;
                        
                        const questionIndex = parseInt(this.dataset.question);
                        const optionIndex = parseInt(this.dataset.option);
                        
                        // Marcar la opci칩n seleccionada
                        document.querySelectorAll(`input[name="question${questionIndex}"]`).forEach(input => {
                            input.checked = false;
                        });
                        
                        this.querySelector('input').checked = true;
                        
                        // Actualizar el estado visual
                        document.querySelectorAll(`.option[data-question="${questionIndex}"]`).forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        this.classList.add('selected');
                        
                        // Guardar la respuesta
                        gameState.currentAnswers[questionIndex] = optionIndex;
                        
                        // Mostrar feedback inmediato
                        showImmediateFeedback(questionIndex, optionIndex);
                    });
                });
                
                // Restaurar respuesta previa si la hay
                if (gameState.currentAnswers[gameState.currentQuestionIndex] !== null) {
                    const answerIndex = gameState.currentAnswers[gameState.currentQuestionIndex];
                    const optionElement = document.querySelector(`.option[data-question="${gameState.currentQuestionIndex}"][data-option="${answerIndex}"]`);
                    if (optionElement) {
                        optionElement.classList.add('selected');
                        optionElement.querySelector('input').checked = true;
                    }
                }
            }
        }

        // Renderizar bot칩n de enviar
        function renderSubmitButton() {
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = `
                <div class="question-container" style="text-align: center;">
                    <h3>춰Has respondido todas las preguntas!</h3>
                    <p>쯃isto para enviar tus respuestas y obtener tu llave?</p>
                    <button class="btn btn-submit" id="final-submit-btn">Enviar respuestas</button>
                </div>
            `;
            
            document.getElementById('final-submit-btn').addEventListener('click', () => {
                submitChallenge();
            });
        }

        // Mostrar feedback inmediato al seleccionar una opci칩n
        function showImmediateFeedback(questionIndex, selectedOption) {
            const correctOption = gameState.currentQuestions[questionIndex].correctAnswer;
            const options = document.querySelectorAll(`.option[data-question="${questionIndex}"]`);
            
            gameState.showingFeedback = true;
            
            // Mostrar si la opci칩n seleccionada es correcta o incorrecta
            if (selectedOption === correctOption) {
                options[selectedOption].classList.add('correct');
                showNotification('춰Correcto! 춰Eres un crack! 游꿀', 'success');
            } else {
                options[selectedOption].classList.add('incorrect');
                options[correctOption].classList.add('correct');
                showNotification('Ups, no es correcta. 춰Pero no te preocupes, sigue intent치ndolo! 游땐', 'error');
            }
            
            // Deshabilitar las opciones para esta pregunta
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Habilitar las opciones despu칠s de un tiempo
            setTimeout(() => {
                gameState.showingFeedback = false;
                
                // Mostrar elemento divertido despu칠s de responder
                setTimeout(() => {
                    gameState.showingFunElement = true;
                    renderCurrentQuestion();
                }, 1000);
            }, 1500);
        }

        // Iniciar el temporizador
        function startTimer() {
            clearInterval(gameState.timer);
            updateTimerDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    submitChallenge(true); // Tiempo agotado
                }
                
                // Cambiar el color del temporizador cuando queda poco tiempo
                const timerElement = document.getElementById('timer');
                if (gameState.timeLeft <= 30) {
                    timerElement.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
                } else if (gameState.timeLeft <= 60) {
                    timerElement.style.background = 'linear-gradient(45deg, #f39c12, #d35400)';
                }
            }, 1000);
        }

        // Actualizar la visualizaci칩n del temporizador
        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            document.getElementById('timer').textContent = `Tiempo restante: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Enviar el desaf칤o
        function submitChallenge(timeOut = false) {
            clearInterval(gameState.timer);
            
            let score = 0;
            
            if (timeOut) {
                // Calcular puntuaci칩n basada en respuestas contestadas
                const answeredCount = gameState.currentAnswers.filter(answer => answer !== null).length;
                score = Math.round((answeredCount / 2) * 10);
                showNotification('춰Tiempo agotado! Tu puntuaci칩n se basa en las respuestas que contestaste. 낌勇', 'warning');
            } else {
                // Verificar si todas las preguntas fueron respondidas
                const unansweredCount = gameState.currentAnswers.filter(answer => answer === null).length;
                if (unansweredCount > 0) {
                    showNotification(`춰Falta responder ${unansweredCount} pregunta(s)! 춰Completa todas antes de enviar!`, 'warning');
                    return;
                }
                
                // Calcular puntuaci칩n basada en respuestas correctas
                let correctCount = 0;
                gameState.currentAnswers.forEach((answer, index) => {
                    if (answer === gameState.currentQuestions[index].correctAnswer) {
                        correctCount++;
                    }
                });
                
                score = Math.round((correctCount / 2) * 10);
                
                if (score === 10) {
                    showNotification('춰WOW! 춰Todas tus respuestas son correctas! 춰Eres un genio! 游먹랻', 'success');
                } else if (score >= 7) {
                    showNotification(`춰Buen trabajo! Respondiste correctamente ${correctCount} de 2 preguntas. 춰Sigue as칤! 游녨`, 'success');
                } else {
                    showNotification(`Respondiste correctamente ${correctCount} de 2 preguntas. 춰No te rindas, la pr치ctica hace al maestro! 游눩`, 'warning');
                }
            }
            
            // Guardar la puntuaci칩n
            gameState.scores[gameState.currentChallenge] = score;
            gameState.completedChallenges.push(gameState.currentChallenge);
            
            // Mostrar animaci칩n de llave recolectada
            showKeyAnimation();
            
            // Cerrar el modal despu칠s de un tiempo
            setTimeout(() => {
                document.getElementById('challenge-modal').style.display = 'none';
                renderKeys();
            }, 2000);
        }

        // Mostrar animaci칩n de llave recolectada
        function showKeyAnimation() {
            const dimension = dimensions[gameState.currentChallenge];
            const keyAnimation = document.createElement('div');
            keyAnimation.className = 'key-animation';
            keyAnimation.innerHTML = `<i class="fas ${dimension.icon}" style="color: ${dimension.color}"></i>`;
            document.body.appendChild(keyAnimation);
            
            setTimeout(() => {
                keyAnimation.remove();
            }, 2000);
        }

        // Calcular las carreras m치s compatibles
        function calculateCompatibleCareers() {
            const userScores = gameState.scores;
            const careerScores = {};
            
            // Calcular la correlaci칩n de Spearman para cada carrera
            for (const [career, scores] of Object.entries(professionsMatrix)) {
                let correlation = calculateSpearmanCorrelation(userScores, scores);
                careerScores[career] = correlation;
            }
            
            // Ordenar las carreras por correlaci칩n (de mayor a menor)
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);
            
            return sortedCareers;
        }

        // Calcular la correlaci칩n de Spearman (versi칩n simplificada)
        function calculateSpearmanCorrelation(x, y) {
            // Convertir a rangos
            const rankX = getRanks(x);
            const rankY = getRanks(y);
            
            // Calcular la diferencia de rangos al cuadrado
            let dSquaredSum = 0;
            for (let i = 0; i < rankX.length; i++) {
                const d = rankX[i] - rankY[i];
                dSquaredSum += d * d;
            }
            
            // Calcular la correlaci칩n de Spearman
            const n = rankX.length;
            const spearman = 1 - (6 * dSquaredSum) / (n * (n * n - 1));
            
            return spearman;
        }

        // Obtener los rangos de un array
        function getRanks(arr) {
            // Crear una copia del array original
            const sorted = [...arr].sort((a, b) => a - b);
            
            // Crear un mapa de valores a rangos
            const rankMap = {};
            sorted.forEach((value, index) => {
                if (!rankMap[value]) {
                    rankMap[value] = index + 1;
                }
            });
            
            // Mapear los valores originales a sus rangos
            return arr.map(value => rankMap[value]);
        }

        // Mostrar los resultados
        function showResults() {
            const compatibleCareers = calculateCompatibleCareers();
            const careerList = document.getElementById('career-list');
            careerList.innerHTML = '';
            
            compatibleCareers.forEach(([career, score], index) => {
                const careerItem = document.createElement('li');
                careerItem.className = 'career-item';
                
                // Convertir la correlaci칩n a un porcentaje para mostrar
                const percentage = Math.max(0, Math.min(100, Math.round((score + 1) * 50)));
                
                careerItem.innerHTML = `
                    <div>
                        <div class="career-name">${index + 1}. ${career}</div>
                        <div>Compatibilidad: ${percentage}%</div>
                    </div>
                    <div class="career-score">${percentage}%</div>
                `;
                
                careerList.appendChild(careerItem);
            });
            
            // Ocultar el contenedor del juego y mostrar los resultados
            document.getElementById('game-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'block';
            
            // Generar un c칩digo 칰nico para compartir
            const userCode = generateUserCode();
            document.getElementById('friend-code').placeholder = `C칩digo de resultado de tu amigo (ej: ${userCode})`;
        }

        // Generar un c칩digo de usuario 칰nico
        function generateUserCode() {
            const scores = gameState.scores.join('');
            const timestamp = Date.now().toString();
            const code = btoa(scores + timestamp).substring(0, 8).replace(/[^a-zA-Z0-9]/g, '');
            return code.toUpperCase();
        }

        // Decodificar un c칩digo de usuario
        function decodeUserCode(code) {
            try {
                const decoded = atob(code);
                const scores = decoded.substring(0, 10);
                return scores.split('').map(Number);
            } catch (e) {
                return null;
            }
        }

        // Comparar resultados con un amigo
        function compareResults() {
            const friendCode = document.getElementById('friend-code').value.trim().toUpperCase();
            if (!friendCode) {
                showNotification('춰Hey! Ingresa un c칩digo v치lido para comparar. 游뱂', 'warning');
                return;
            }
            
            const friendScores = decodeUserCode(friendCode);
            if (!friendScores || friendScores.length !== 10) {
                showNotification('춰Ups! C칩digo inv치lido. Verifica e intenta de nuevo. 仇', 'error');
                return;
            }
            
            // Calcular la compatibilidad entre los dos perfiles
            const compatibility = calculateProfileCompatibility(gameState.scores, friendScores);
            
            // Mostrar los resultados
            const teamResults = document.getElementById('team-results');
            teamResults.style.display = 'block';
            
            // Encontrar las carreras m치s compatibles para el equipo
            const teamScores = gameState.scores.map((score, index) => (score + friendScores[index]) / 2);
            const teamCompatibleCareers = calculateCompatibleCareersForScores(teamScores);
            
            teamResults.innerHTML = `
                <h5>Compatibilidad de equipo: ${Math.round(compatibility * 100)}%</h5>
                <p>Las carreras m치s compatibles para tu equipo son:</p>
                <ul>
                    ${teamCompatibleCareers.slice(0, 3).map(([career, score], index) => {
                        const percentage = Math.max(0, Math.min(100, Math.round((score + 1) * 50)));
                        return `<li>${index + 1}. ${career} (${percentage}%)</li>`;
                    }).join('')}
                </ul>
            `;
        }

        // Calcular la compatibilidad entre dos perfiles
        function calculateProfileCompatibility(profile1, profile2) {
            // Calcular la correlaci칩n de Pearson entre los dos perfiles
            let sum1 = 0, sum2 = 0, sum1Sq = 0, sum2Sq = 0, pSum = 0;
            const n = profile1.length;
            
            for (let i = 0; i < n; i++) {
                sum1 += profile1[i];
                sum2 += profile2[i];
                sum1Sq += profile1[i] * profile1[i];
                sum2Sq += profile2[i] * profile2[i];
                pSum += profile1[i] * profile2[i];
            }
            
            const num = pSum - (sum1 * sum2 / n);
            const den = Math.sqrt((sum1Sq - sum1 * sum1 / n) * (sum2Sq - sum2 * sum2 / n));
            
            if (den === 0) return 0;
            return num / den;
        }

        // Calcular las carreras m치s compatibles para un perfil espec칤fico
        function calculateCompatibleCareersForScores(scores) {
            const careerScores = {};
            
            // Calcular la correlaci칩n de Spearman para cada carrera
            for (const [career, careerScoresArray] of Object.entries(professionsMatrix)) {
                let correlation = calculateSpearmanCorrelation(scores, careerScoresArray);
                careerScores[career] = correlation;
            }
            
            // Ordenar las carreras por correlaci칩n (de mayor a menor)
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1]);
            
            return sortedCareers;
        }

        // Reiniciar el juego
        function restartGame() {
            gameState = {
                completedChallenges: [],
                scores: new Array(10).fill(0),
                currentChallenge: null,
                timer: null,
                timeLeft: 120,
                currentQuestions: [],
                currentAnswers: [],
                showingFeedback: false,
                currentQuestionIndex: 0,
                showingFunElement: false
            };
            
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('results-container').style.display = 'none';
            
            renderKeys();
        }

        // Mostrar una notificaci칩n
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification show';
            
            if (type === 'error') {
                notification.classList.add('error');
            } else if (type === 'warning') {
                notification.classList.add('warning');
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Compartir en redes sociales
        function shareOnSocial(platform) {
            const compatibleCareers = calculateCompatibleCareers();
            const topCareer = compatibleCareers[0][0];
            const percentage = Math.max(0, Math.min(100, Math.round((compatibleCareers[0][1] + 1) * 50)));
            const userCode = generateUserCode();
            
            const text = `춰Acabo de descubrir que mi carrera ideal es ${topCareer} con ${percentage}% de compatibilidad en Carrera Quest! 춰Descubre la tuya tambi칠n! Mi c칩digo es ${userCode}`;
            const url = window.location.href;
            
            let shareUrl = '';
            
            switch (platform) {
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
                    break;
            }
            
            window.open(shareUrl, '_blank');
        }

        // Configurar los event listeners
        function setupEventListeners() {
            document.getElementById('close-modal').addEventListener('click', () => {
                clearInterval(gameState.timer);
                document.getElementById('challenge-modal').style.display = 'none';
            });
            
            document.getElementById('show-results').addEventListener('click', showResults);
            
            document.getElementById('restart-game').addEventListener('click', restartGame);
            
            document.getElementById('compare-results').addEventListener('click', compareResults);
            
            document.getElementById('share-twitter').addEventListener('click', () => shareOnSocial('twitter'));
            document.getElementById('share-facebook').addEventListener('click', () => shareOnSocial('facebook'));
            document.getElementById('share-whatsapp').addEventListener('click', () => shareOnSocial('whatsapp'));
        }

        // Inicializar la aplicaci칩n cuando se carga la p치gina
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>